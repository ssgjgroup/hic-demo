<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.winning.hic.dao.data.HlhtZybcjlScbcjlDao">

    <resultMap id="hlhtZybcjlScbcjlResultForList" type="com.winning.hic.model.HlhtZybcjlScbcjl">
        <result column="yjlxh" property="yjlxh" jdbcType="VARCHAR"/>
        <result column="jzlsh" property="jzlsh" jdbcType="VARCHAR"/>
        <result column="patid" property="patid" jdbcType="VARCHAR"/>
        <result column="hzxm" property="hzxm" jdbcType="VARCHAR"/>
        <result column="zyh" property="zyh" jdbcType="VARCHAR"/>
        <result column="sfzhm" property="sfzhm" jdbcType="VARCHAR"/>
        <result column="ksdm" property="ksdm" jdbcType="VARCHAR"/>
        <result column="ksmc" property="ksmc" jdbcType="VARCHAR"/>
        <result column="bqdm" property="bqdm" jdbcType="VARCHAR"/>
        <result column="bqmc" property="bqmc" jdbcType="VARCHAR"/>
        <result column="bfh" property="bfh" jdbcType="VARCHAR"/>
        <result column="bfmc" property="bfmc" jdbcType="VARCHAR"/>
        <result column="bch" property="bch" jdbcType="VARCHAR"/>
        <result column="jlrq" property="jlrq" jdbcType="TIMESTAMP"/>
        <result column="xbdm" property="xbdm" jdbcType="VARCHAR"/>
        <result column="xbmc" property="xbmc" jdbcType="VARCHAR"/>
        <result column="nls" property="nls" jdbcType="NUMERIC"/>
        <result column="nly" property="nly" jdbcType="VARCHAR"/>
        <result column="zs" property="zs" jdbcType="VARCHAR"/>
        <result column="bltd" property="bltd" jdbcType="VARCHAR"/>
        <result column="zyszgcjg" property="zyszgcjg" jdbcType="VARCHAR"/>
        <result column="zdyjdm" property="zdyjdm" jdbcType="VARCHAR"/>
        <result column="zdyj" property="zdyj" jdbcType="VARCHAR"/>
        <result column="czxyzdbm" property="czxyzdbm" jdbcType="VARCHAR"/>
        <result column="czxyzd" property="czxyzd" jdbcType="VARCHAR"/>
        <result column="czzybmdm" property="czzybmdm" jdbcType="VARCHAR"/>
        <result column="czzybm" property="czzybm" jdbcType="VARCHAR"/>
        <result column="czzyzhdm" property="czzyzhdm" jdbcType="VARCHAR"/>
        <result column="czzyzh" property="czzyzh" jdbcType="VARCHAR"/>
        <result column="jzxyzdbm" property="jzxyzdbm" jdbcType="VARCHAR"/>
        <result column="jzxyzdmc" property="jzxyzdmc" jdbcType="VARCHAR"/>
        <result column="jzzybmdm" property="jzzybmdm" jdbcType="VARCHAR"/>
        <result column="jzzybmmc" property="jzzybmmc" jdbcType="VARCHAR"/>
        <result column="jzzyzhbm" property="jzzyzhbm" jdbcType="VARCHAR"/>
        <result column="jzzyzhmc" property="jzzyzhmc" jdbcType="VARCHAR"/>
        <result column="zljh" property="zljh" jdbcType="VARCHAR"/>
        <result column="zfbm" property="zfbm" jdbcType="VARCHAR"/>
        <result column="zzzf" property="zzzf" jdbcType="VARCHAR"/>
        <result column="zyysbm" property="zyysbm" jdbcType="VARCHAR"/>
        <result column="zyysqm" property="zyysqm" jdbcType="VARCHAR"/>
        <result column="sjysbm" property="sjysbm" jdbcType="VARCHAR"/>
        <result column="sjysqm" property="sjysqm" jdbcType="VARCHAR"/>
        <result column="gxsj" property="gxsj" jdbcType="TIMESTAMP"/>
        <result column="syxh" property="syxh" jdbcType="VARCHAR"/>
        <result column="tjzt" property="tjzt" jdbcType="VARCHAR"/>
        <result column="yxjl" property="yxjl" jdbcType="INTEGER"/>
        <result column="blmc" property="blmc" jdbcType="VARCHAR"/>
        <result column="blnr" property="blnr" jdbcType="VARCHAR"/>
        <result column="fssj" property="fssj" jdbcType="TIMESTAMP"/>
    </resultMap>

    <resultMap id="hlhtZybcjlScbcjlResult" type="com.winning.hic.model.HlhtZybcjlScbcjl"
               extends="hlhtZybcjlScbcjlResultForList">

    </resultMap>

    <sql id="sql-hlhtZybcjlScbcjl">
        <if test="(yjlxh != null )">and t.yjlxh = #{yjlxh}</if>
        <if test="(jzlsh != null )">and t.jzlsh = #{jzlsh}</if>
        <if test="(patid != null )">and t.patid = #{patid}</if>
        <if test="(hzxm != null )">and t.hzxm = #{hzxm}</if>
        <if test="(zyh != null )">and t.zyh = #{zyh}</if>
        <if test="(sfzhm != null )">and t.sfzhm = #{sfzhm}</if>
        <if test="(ksdm != null )">and t.ksdm = #{ksdm}</if>
        <if test="(ksmc != null )">and t.ksmc = #{ksmc}</if>
        <if test="(bqdm != null )">and t.bqdm = #{bqdm}</if>
        <if test="(bqmc != null )">and t.bqmc = #{bqmc}</if>
        <if test="(bfh != null )">and t.bfh = #{bfh}</if>
        <if test="(bfmc != null )">and t.bfmc = #{bfmc}</if>
        <if test="(bch != null )">and t.bch = #{bch}</if>
        <if test="(jlrq != null)">and t.jlrq = #{jlrq}</if>
        <if test="(xbdm != null )">and t.xbdm = #{xbdm}</if>
        <if test="(xbmc != null )">and t.xbmc = #{xbmc}</if>
        <if test="(nls != null )">and t.nls = #{nls}</if>
        <if test="(nly != null )">and t.nly = #{nly}</if>
        <if test="(zs != null and zs != '')">and t.zs = #{zs}</if>
        <if test="(bltd != null and bltd != '')">and t.bltd = #{bltd}</if>
        <if test="(zyszgcjg != null and zyszgcjg != '')">and t.zyszgcjg = #{zyszgcjg}</if>
        <if test="(zdyjdm != null )">and t.zdyjdm = #{zdyjdm}</if>
        <if test="(zdyj != null )">and t.zdyj = #{zdyj}</if>
        <if test="(czxyzdbm != null and czxyzdbm != '')">and t.czxyzdbm = #{czxyzdbm}</if>
        <if test="(czxyzd != null and czxyzd != '')">and t.czxyzd = #{czxyzd}</if>
        <if test="(czzybmdm != null and czzybmdm != '')">and t.czzybmdm = #{czzybmdm}</if>
        <if test="(czzybm != null and czzybm != '')">and t.czzybm = #{czzybm}</if>
        <if test="(czzyzhdm != null and czzyzhdm != '')">and t.czzyzhdm = #{czzyzhdm}</if>
        <if test="(czzyzh != null and czzyzh != '')">and t.czzyzh = #{czzyzh}</if>
        <if test="(jzxyzdbm != null and jzxyzdbm != '')">and t.jzxyzdbm = #{jzxyzdbm}</if>
        <if test="(jzxyzdmc != null and jzxyzdmc != '')">and t.jzxyzdmc = #{jzxyzdmc}</if>
        <if test="(jzzybmdm != null and jzzybmdm != '')">and t.jzzybmdm = #{jzzybmdm}</if>
        <if test="(jzzybmmc != null and jzzybmmc != '')">and t.jzzybmmc = #{jzzybmmc}</if>
        <if test="(jzzyzhbm != null and jzzyzhbm != '')">and t.jzzyzhbm = #{jzzyzhbm}</if>
        <if test="(jzzyzhmc != null and jzzyzhmc != '')">and t.jzzyzhmc = #{jzzyzhmc}</if>
        <if test="(zljh != null and zljh != '')">and t.zljh = #{zljh}</if>
        <if test="(zfbm != null and zfbm != '')">and t.zfbm = #{zfbm}</if>
        <if test="(zzzf != null and zzzf != '')">and t.zzzf = #{zzzf}</if>
        <if test="(zyysbm != null and zyysbm != '')">and t.zyysbm = #{zyysbm}</if>
        <if test="(zyysqm != null and zyysqm != '')">and t.zyysqm = #{zyysqm}</if>
        <if test="(sjysbm != null and sjysbm != '')">and t.sjysbm = #{sjysbm}</if>
        <if test="(sjysqm != null and sjysqm != '')">and t.sjysqm = #{sjysqm}</if>
        <if test="(gxsj != null )">and t.gxsj = #{gxsj}</if>
        <if test="(syxh != null )">and t.syxh = #{syxh}</if>
        <if test="(tjzt != null )">and t.tjzt = #{tjzt}</if>
        <if test="(yxjl != null )">and t.yxjl = #{yxjl}</if>
    </sql>

    <insert id="insertHlhtZybcjlScbcjl" parameterType="com.winning.hic.model.HlhtZybcjlScbcjl">
        INSERT INTO HLHT_ZYBCJL_SCBCJL
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="(yjlxh != null )">yjlxh ,</if>
            <if test="(jzlsh != null )">jzlsh ,</if>
            <if test="(patid != null )">patid ,</if>
            <if test="(hzxm != null )">hzxm ,</if>
            <if test="(zyh != null )">zyh ,</if>
            <if test="(sfzhm != null )">sfzhm ,</if>
            <if test="(ksdm != null )">ksdm ,</if>
            <if test="(ksmc != null )">ksmc ,</if>
            <if test="(bqdm != null )">bqdm ,</if>
            <if test="(bqmc != null )">bqmc ,</if>
            <if test="(bfh != null )">bfh ,</if>
            <if test="(bfmc != null )">bfmc ,</if>
            <if test="(bch != null )">bch ,</if>
            <if test="(jlrq != null )">jlrq ,</if>
            <if test="(xbdm != null )">xbdm ,</if>
            <if test="(xbmc != null )">xbmc ,</if>
            <if test="(nls != null)">nls ,</if>
            <if test="(nly != null )">nly ,</if>
            <if test="(zs != null and zs != '')">zs ,</if>
            <if test="(bltd != null and bltd != '')">bltd ,</if>
            <if test="(zyszgcjg != null and zyszgcjg != '')">zyszgcjg ,</if>
            <if test="(zdyjdm != null )">zdyjdm ,</if>
            <if test="(zdyj != null )">zdyj ,</if>
            <if test="(czxyzdbm != null and czxyzdbm != '')">czxyzdbm ,</if>
            <if test="(czxyzd != null and czxyzd != '')">czxyzd ,</if>
            <if test="(czzybmdm != null and czzybmdm != '')">czzybmdm ,</if>
            <if test="(czzybm != null and czzybm != '')">czzybm ,</if>
            <if test="(czzyzhdm != null and czzyzhdm != '')">czzyzhdm ,</if>
            <if test="(czzyzh != null and czzyzh != '')">czzyzh ,</if>
            <if test="(jzxyzdbm != null and jzxyzdbm != '')">jzxyzdbm ,</if>
            <if test="(jzxyzdmc != null and jzxyzdmc != '')">jzxyzdmc ,</if>
            <if test="(jzzybmdm != null and jzzybmdm != '')">jzzybmdm ,</if>
            <if test="(jzzybmmc != null and jzzybmmc != '')">jzzybmmc ,</if>
            <if test="(jzzyzhbm != null and jzzyzhbm != '')">jzzyzhbm ,</if>
            <if test="(jzzyzhmc != null and jzzyzhmc != '')">jzzyzhmc ,</if>
            <if test="(zljh != null and zljh != '')">zljh ,</if>
            <if test="(zfbm != null and zfbm != '')">zfbm ,</if>
            <if test="(zzzf != null and zzzf != '')">zzzf ,</if>
            <if test="(zyysbm != null and zyysbm != '')">zyysbm ,</if>
            <if test="(zyysqm != null and zyysqm != '')">zyysqm ,</if>
            <if test="(sjysbm != null and sjysbm != '')">sjysbm ,</if>
            <if test="(sjysqm != null and sjysqm != '')">sjysqm ,</if>
            <if test="(gxsj != null )">gxsj ,</if>
            <if test="(syxh != null )">syxh ,</if>
            <if test="(tjzt != null )">tjzt ,</if>
            <if test="(yxjl != null )">yxjl ,</if>
        </trim>
        VALUES
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="(yjlxh != null )">#{yjlxh , jdbcType= VARCHAR },</if>
            <if test="(jzlsh != null )">#{jzlsh , jdbcType= VARCHAR },</if>
            <if test="(patid != null )">#{patid , jdbcType= VARCHAR },</if>
            <if test="(hzxm != null )">#{hzxm , jdbcType= VARCHAR },</if>
            <if test="(zyh != null )">#{zyh , jdbcType= VARCHAR },</if>
            <if test="(sfzhm != null )">#{sfzhm , jdbcType= VARCHAR },</if>
            <if test="(ksdm != null )">#{ksdm , jdbcType= VARCHAR },</if>
            <if test="(ksmc != null )">#{ksmc , jdbcType= VARCHAR },</if>
            <if test="(bqdm != null )">#{bqdm , jdbcType= VARCHAR },</if>
            <if test="(bqmc != null )">#{bqmc , jdbcType= VARCHAR },</if>
            <if test="(bfh != null )">#{bfh , jdbcType= VARCHAR },</if>
            <if test="(bfmc != null )">#{bfmc , jdbcType= VARCHAR },</if>
            <if test="(bch != null )">#{bch , jdbcType= VARCHAR },</if>
            <if test="(jlrq != null)">#{jlrq , jdbcType= TIMESTAMP },</if>
            <if test="(xbdm != null )">#{xbdm , jdbcType= VARCHAR },</if>
            <if test="(xbmc != null )">#{xbmc , jdbcType= VARCHAR },</if>
            <if test="(nls != null)">#{nls , jdbcType= NUMERIC },</if>
            <if test="(nly != null )">#{nly , jdbcType= VARCHAR },</if>
            <if test="(zs != null and zs != '')">#{zs , jdbcType= VARCHAR },</if>
            <if test="(bltd != null and bltd != '')">#{bltd , jdbcType= VARCHAR },</if>
            <if test="(zyszgcjg != null and zyszgcjg != '')">#{zyszgcjg , jdbcType= VARCHAR },</if>
            <if test="(zdyjdm != null )">#{zdyjdm , jdbcType= VARCHAR },</if>
            <if test="(zdyj != null )">#{zdyj , jdbcType= VARCHAR },</if>
            <if test="(czxyzdbm != null and czxyzdbm != '')">#{czxyzdbm , jdbcType= VARCHAR },</if>
            <if test="(czxyzd != null and czxyzd != '')">#{czxyzd , jdbcType= VARCHAR },</if>
            <if test="(czzybmdm != null and czzybmdm != '')">#{czzybmdm , jdbcType= VARCHAR },</if>
            <if test="(czzybm != null and czzybm != '')">#{czzybm , jdbcType= VARCHAR },</if>
            <if test="(czzyzhdm != null and czzyzhdm != '')">#{czzyzhdm , jdbcType= VARCHAR },</if>
            <if test="(czzyzh != null and czzyzh != '')">#{czzyzh , jdbcType= VARCHAR },</if>
            <if test="(jzxyzdbm != null and jzxyzdbm != '')">#{jzxyzdbm , jdbcType= VARCHAR },</if>
            <if test="(jzxyzdmc != null and jzxyzdmc != '')">#{jzxyzdmc , jdbcType= VARCHAR },</if>
            <if test="(jzzybmdm != null and jzzybmdm != '')">#{jzzybmdm , jdbcType= VARCHAR },</if>
            <if test="(jzzybmmc != null and jzzybmmc != '')">#{jzzybmmc , jdbcType= VARCHAR },</if>
            <if test="(jzzyzhbm != null and jzzyzhbm != '')">#{jzzyzhbm , jdbcType= VARCHAR },</if>
            <if test="(jzzyzhmc != null and jzzyzhmc != '')">#{jzzyzhmc , jdbcType= VARCHAR },</if>
            <if test="(zljh != null and zljh != '')">#{zljh , jdbcType= VARCHAR },</if>
            <if test="(zfbm != null and zfbm != '')">#{zfbm , jdbcType= VARCHAR },</if>
            <if test="(zzzf != null and zzzf != '')">#{zzzf , jdbcType= VARCHAR },</if>
            <if test="(zyysbm != null and zyysbm != '')">#{zyysbm , jdbcType= VARCHAR },</if>
            <if test="(zyysqm != null and zyysqm != '')">#{zyysqm , jdbcType= VARCHAR },</if>
            <if test="(sjysbm != null and sjysbm != '')">#{sjysbm , jdbcType= VARCHAR },</if>
            <if test="(sjysqm != null and sjysqm != '')">#{sjysqm , jdbcType= VARCHAR },</if>
            <if test="(gxsj != null)">#{gxsj , jdbcType= TIMESTAMP },</if>
            <if test="(syxh != null )">#{syxh , jdbcType= VARCHAR },</if>
            <if test="(tjzt != null )">#{tjzt , jdbcType= VARCHAR },</if>
            <if test="(yxjl != null )">#{yxjl , jdbcType= INTEGER },</if>
        </trim>
    </insert>

    <!-- Chen,Kuai 2018-8-3 批量初始化CIS,HIS数据-->
    <!--<select id="selectInitialHlhtZybcjlScbcjl" resultMap="hlhtZybcjlScbcjlResult"-->
            <!--parameterType="com.winning.hic.model.HlhtZybcjlScbcjl">-->
        <!--SELECT t.QTBLJLXH AS yjlxh,-->
        <!--b.HISSYXH AS jzlsh,-->
        <!--c.PATID AS patid,-->
        <!--b.HZXM AS hzxm,-->
        <!--b.ZYHM AS zyh,-->
        <!--b.SFZH AS sfzhm,-->
        <!--c.KSDM AS ksdm,-->
        <!--c.KSMC AS ksmc ,-->
        <!--c.BQDM AS bqdm,-->
        <!--c.BQMC AS bqmc ,-->
        <!--ISNULL(a.fjh, 'NA') AS bfh,-->
        <!--ISNULL(a.fjh, 'NA')+'病房' AS bfmc,-->
        <!--c.CWDM AS bch ,-->
        <!--t.CJSJ AS jlrq,-->
        <!--b.BRXB AS xbdm,-->
        <!--(-->
        <!--SELECT CASE b.BRXB-->
        <!--WHEN '2'-->
        <!--THEN-->
        <!--'女'-->
        <!--WHEN '1'-->
        <!--THEN-->
        <!--'男'-->
        <!--ELSE-->
        <!--'其它'-->
        <!--END-->
        <!--)                                               AS xbmc,-->
        <!--ISNULL(convert (varchar,(YEAR(GETDATE())-YEAR(convert(datetime, b.CSRQ)))) ,'''') AS nls,-->
        <!--DATEDIFF(MONTH,b.CSRQ,SUBSTRING(CONVERT(CHAR(8),GETDATE(),112),1,8)) %12       AS nly,-->
        <!--GETDATE() AS gxsj,-->
        <!--t.YXJL AS yxjl,-->
        <!--t.SYXH AS syxh,-->
        <!--t.TJZT as tjzt-->

        <!--FROM CISDB.dbo.EMR_QTBLJLK t-->
        <!--LEFT JOIN CISDB.dbo.CPOE_BRSYK c ON t.SYXH = c.EMRXH-->
        <!--LEFT JOIN CISDB.dbo.EMR_BRSYK b ON b.SYXH = t.SYXH-->
        <!--LEFT JOIN THIS4.dbo.ZY_BCDMK a ON a.id = b.RYCW and a.bqdm=b.RYBQ-->
        <!--WHERE 1=1-->
        <!--<if test="(map.QTBLJLXH != null and map.QTBLJLXH != '') or map.QTBLJLXH == 0">and t.QTBLJLXH =-->
            <!--(#{map.QTBLJLXH})-->
        <!--</if>-->

    <!--</select>-->


    <update id="updateHlhtZybcjlScbcjl" parameterType="com.winning.hic.model.HlhtZybcjlScbcjl">
        UPDATE HLHT_ZYBCJL_SCBCJL
        <set>
            <trim suffixOverrides=",">
                <if test="(yjlxh != null )">yjlxh = #{yjlxh , jdbcType= VARCHAR },</if>
                <if test="(jzlsh != null )">jzlsh = #{jzlsh , jdbcType= VARCHAR },</if>
                <if test="(patid != null )">patid = #{patid , jdbcType= VARCHAR },</if>
                <if test="(hzxm != null )">hzxm = #{hzxm , jdbcType= VARCHAR },</if>
                <if test="(zyh != null )">zyh = #{zyh , jdbcType= VARCHAR },</if>
                <if test="(sfzhm != null )">sfzhm = #{sfzhm , jdbcType= VARCHAR },</if>
                <if test="(ksdm != null )">ksdm = #{ksdm , jdbcType= VARCHAR },</if>
                <if test="(ksmc != null )">ksmc = #{ksmc , jdbcType= VARCHAR },</if>
                <if test="(bqdm != null )">bqdm = #{bqdm , jdbcType= VARCHAR },</if>
                <if test="(bqmc != null )">bqmc = #{bqmc , jdbcType= VARCHAR },</if>
                <if test="(bfh != null )">bfh = #{bfh , jdbcType= VARCHAR },</if>
                <if test="(bfmc != null )">bfmc = #{bfmc , jdbcType= VARCHAR },</if>
                <if test="(bch != null )">bch = #{bch , jdbcType= VARCHAR },</if>
                <if test="(jlrq != null and jlrq != '')">jlrq = #{jlrq , jdbcType= TIMESTAMP },</if>
                <if test="(xbdm != null )">xbdm = #{xbdm , jdbcType= VARCHAR },</if>
                <if test="(xbmc != null )">xbmc = #{xbmc , jdbcType= VARCHAR },</if>
                <if test="(nls != null )">nls = #{nls , jdbcType= NUMERIC },</if>
                <if test="(nly != null )">nly = #{nly , jdbcType= VARCHAR },</if>
                <if test="(zs != null and zs != '')">zs = #{zs , jdbcType= VARCHAR },</if>
                <if test="(bltd != null and bltd != '')">bltd = #{bltd , jdbcType= VARCHAR },</if>
                <if test="(zyszgcjg != null and zyszgcjg != '')">zyszgcjg = #{zyszgcjg , jdbcType= VARCHAR },</if>
                <if test="(zdyjdm != null )">zdyjdm = #{zdyjdm , jdbcType= VARCHAR },</if>
                <if test="(zdyj != null )">zdyj = #{zdyj , jdbcType= VARCHAR },</if>
                <if test="(czxyzdbm != null and czxyzdbm != '')">czxyzdbm = #{czxyzdbm , jdbcType= VARCHAR },</if>
                <if test="(czxyzd != null and czxyzd != '')">czxyzd = #{czxyzd , jdbcType= VARCHAR },</if>
                <if test="(czzybmdm != null and czzybmdm != '')">czzybmdm = #{czzybmdm , jdbcType= VARCHAR },</if>
                <if test="(czzybm != null and czzybm != '')">czzybm = #{czzybm , jdbcType= VARCHAR },</if>
                <if test="(czzyzhdm != null and czzyzhdm != '')">czzyzhdm = #{czzyzhdm , jdbcType= VARCHAR },</if>
                <if test="(czzyzh != null and czzyzh != '')">czzyzh = #{czzyzh , jdbcType= VARCHAR },</if>
                <if test="(jzxyzdbm != null and jzxyzdbm != '')">jzxyzdbm = #{jzxyzdbm , jdbcType= VARCHAR },</if>
                <if test="(jzxyzdmc != null and jzxyzdmc != '')">jzxyzdmc = #{jzxyzdmc , jdbcType= VARCHAR },</if>
                <if test="(jzzybmdm != null and jzzybmdm != '')">jzzybmdm = #{jzzybmdm , jdbcType= VARCHAR },</if>
                <if test="(jzzybmmc != null and jzzybmmc != '')">jzzybmmc = #{jzzybmmc , jdbcType= VARCHAR },</if>
                <if test="(jzzyzhbm != null and jzzyzhbm != '')">jzzyzhbm = #{jzzyzhbm , jdbcType= VARCHAR },</if>
                <if test="(jzzyzhmc != null and jzzyzhmc != '')">jzzyzhmc = #{jzzyzhmc , jdbcType= VARCHAR },</if>
                <if test="(zljh != null and zljh != '')">zljh = #{zljh , jdbcType= VARCHAR },</if>
                <if test="(zfbm != null and zfbm != '')">zfbm = #{zfbm , jdbcType= VARCHAR },</if>
                <if test="(zzzf != null and zzzf != '')">zzzf = #{zzzf , jdbcType= VARCHAR },</if>
                <if test="(zyysbm != null and zyysbm != '')">zyysbm = #{zyysbm , jdbcType= VARCHAR },</if>
                <if test="(zyysqm != null and zyysqm != '')">zyysqm = #{zyysqm , jdbcType= VARCHAR },</if>
                <if test="(sjysbm != null and sjysbm != '')">sjysbm = #{sjysbm , jdbcType= VARCHAR },</if>
                <if test="(sjysqm != null and sjysqm != '')">sjysqm = #{sjysqm , jdbcType= VARCHAR },</if>
                <if test="(gxsj != null and gxsj != '')">gxsj = #{gxsj , jdbcType= TIMESTAMP },</if>
                <if test="(syxh != null )">syxh = #{syxh , jdbcType= VARCHAR },</if>
                <if test="(tjzt != null )">tjzt = #{tjzt , jdbcType= VARCHAR },</if>
                <if test="(yxjl != null )">yxjl = #{yxjl , jdbcType= INTEGER },</if>
            </trim>
        </set>
        <where>
            <if test="(yjlxh != null )">and yjlxh = #{yjlxh , jdbcType= VARCHAR }</if>
            <if test="(yjlxh == null or yjlxh == '') and (map.pks != null and map.pks.size > 0)">
                and (yjlxh) in
                <foreach item="item" collection="map.pks" open="(" separator="," close=")">#{item}</foreach>
            </if>
        </where>
    </update>

    <delete id="deleteHlhtZybcjlScbcjl" parameterType="com.winning.hic.model.HlhtZybcjlScbcjl">
        delete from HLHT_ZYBCJL_SCBCJL
        <where>
            <if test="(yjlxh != null )">and yjlxh = #{yjlxh , jdbcType= VARCHAR }</if>
            <if test="(yjlxh == null or yjlxh == '') and (map.pks != null and map.pks.size > 0)">
                and (yjlxh) in
                <foreach item="item" collection="map.pks" open="(" separator="," close=")">#{item}</foreach>
            </if>
        </where>
    </delete>


    <select id="selectHlhtZybcjlScbcjl" resultMap="hlhtZybcjlScbcjlResult"
            parameterType="com.winning.hic.model.HlhtZybcjlScbcjl">
        SELECT * FROM HLHT_ZYBCJL_SCBCJL t
        <where>
            <include refid="sql-hlhtZybcjlScbcjl"/>
        </where>
    </select>

    <select id="selectHlhtZybcjlScbcjlList" resultMap="hlhtZybcjlScbcjlResultForList"
            parameterType="com.winning.hic.model.HlhtZybcjlScbcjl">
        SELECT
        <if test="row.count != null and row.count != ''">top ${row.count}</if>
        * FROM HLHT_ZYBCJL_SCBCJL t
        <where>
            <include refid="sql-hlhtZybcjlScbcjl"/>
        </where>
        ORDER BY t.yjlxh ASC
    </select>

    <select id="selectHlhtZybcjlScbcjlCount" resultType="int" parameterType="com.winning.hic.model.HlhtZybcjlScbcjl">
        select count(1) from HLHT_ZYBCJL_SCBCJL t
        <where>
            <include refid="sql-hlhtZybcjlScbcjl"/>
        </where>
    </select>

    <select id="selectHlhtZybcjlScbcjlPageList" resultMap="hlhtZybcjlScbcjlResult"
            parameterType="com.winning.hic.model.HlhtZybcjlScbcjl">
        SELECT * FROM (
        SELECT t.* ,
       ROW_NUMBER() OVER ( ORDER BY t.yjlxh DESC ) AS _RN
        FROM HLHT_ZYBCJL_SCBCJL t
        <where>
            <include refid="sql-hlhtZybcjlScbcjl"/>
        </where>
        <!-- order by  asc -->
        ) TEMP_TABLE WHERE _RN BETWEEN #{row.first} + 1 AND #{row.first} + #{row.count}
    </select>

    <select id="selectHlhtZybcjlScbcjlListByProc" resultMap="hlhtZybcjlScbcjlResult" statementType="CALLABLE"
        parameterType="com.winning.hic.model.HlhtZybcjlScbcjl">
        exec USP_HLHT_ZYBCJL_SCBCJL_DATA #{map.sourceType},#{map.startDate},#{map.endDate},#{map.syxh}
    </select>

    <!--十分重要 陈蒯 2018年8月30日10:03:39 子集的存储过程 -->
    <select id="selectAllHandleQueryMZ" statementType="CALLABLE">
        {CALL usp_his5_hlht_tsdata_mz()}
    </select>

    <select id="selectAllHandleQueryZY" statementType="CALLABLE">
        {CALL usp_his5_hlht_tsdata_zy()}
    </select>


</mapper>