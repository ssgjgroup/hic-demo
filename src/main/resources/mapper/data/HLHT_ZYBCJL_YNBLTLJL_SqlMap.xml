<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.winning.hic.dao.data.HlhtZybcjlYnbltljlDao">

    <resultMap id="hlhtZybcjlYnbltljlResultForList" type="com.winning.hic.model.HlhtZybcjlYnbltljl">
        <result column="yjlxh" property="yjlxh" jdbcType="VARCHAR"/>
        <result column="jzlsh" property="jzlsh" jdbcType="VARCHAR"/>
        <result column="patid" property="patid" jdbcType="VARCHAR"/>
        <result column="zyh" property="zyh" jdbcType="VARCHAR"/>
        <result column="ksdm" property="ksdm" jdbcType="VARCHAR"/>
        <result column="ksmc" property="ksmc" jdbcType="VARCHAR"/>
        <result column="bqdm" property="bqdm" jdbcType="VARCHAR"/>
        <result column="bqmc" property="bqmc" jdbcType="VARCHAR"/>
        <result column="rybfmc" property="rybfmc" jdbcType="VARCHAR"/>
        <result column="bfh" property="bfh" jdbcType="VARCHAR"/>
        <result column="bch" property="bch" jdbcType="VARCHAR"/>
        <result column="tlrq" property="tlrq" jdbcType="TIMESTAMP"/>
        <result column="tldddm" property="tldddm" jdbcType="VARCHAR"/>
        <result column="tldd" property="tldd" jdbcType="VARCHAR"/>
        <result column="tlrybm" property="tlrybm" jdbcType="VARCHAR"/>
        <result column="cjtlrmd" property="cjtlrmd" jdbcType="VARCHAR"/>
        <result column="zcrbm" property="zcrbm" jdbcType="VARCHAR"/>
        <result column="zcrxm" property="zcrxm" jdbcType="VARCHAR"/>
        <result column="hzxm" property="hzxm" jdbcType="VARCHAR"/>
        <result column="sfzhm" property="sfzhm" jdbcType="VARCHAR"/>
        <result column="xbdm" property="xbdm" jdbcType="VARCHAR"/>
        <result column="xbmc" property="xbmc" jdbcType="VARCHAR"/>
        <result column="nls" property="nls" jdbcType="NUMERIC"/>
        <result column="nly" property="nly" jdbcType="VARCHAR"/>
        <result column="tlyj" property="tlyj" jdbcType="VARCHAR"/>
        <result column="zyszgcjg" property="zyszgcjg" jdbcType="VARCHAR"/>
        <result column="bzlzms" property="bzlzms" jdbcType="VARCHAR"/>
        <result column="zycfyznr" property="zycfyznr" jdbcType="VARCHAR"/>
        <result column="zyyyff" property="zyyyff" jdbcType="VARCHAR"/>
        <result column="zcrzjyj" property="zcrzjyj" jdbcType="VARCHAR"/>
        <result column="ysbm" property="ysbm" jdbcType="VARCHAR"/>
        <result column="ysqm" property="ysqm" jdbcType="VARCHAR"/>
        <result column="zzysbm" property="zzysbm" jdbcType="VARCHAR"/>
        <result column="zzysqm" property="zzysqm" jdbcType="VARCHAR"/>
        <result column="zrysbm" property="zrysbm" jdbcType="VARCHAR"/>
        <result column="zrysqm" property="zrysqm" jdbcType="VARCHAR"/>
        <result column="gxsj" property="gxsj" jdbcType="TIMESTAMP"/>
        <result column="syxh" property="syxh" jdbcType="VARCHAR"/>
        <result column="blmc" property="blmc" jdbcType="VARCHAR"/>
        <result column="blnr" property="blnr" jdbcType="VARCHAR"/>
        <result column="fssj" property="fssj" jdbcType="TIMESTAMP"/>
    </resultMap>

    <resultMap id="hlhtZybcjlYnbltljlResult" type="com.winning.hic.model.HlhtZybcjlYnbltljl"
               extends="hlhtZybcjlYnbltljlResultForList">

    </resultMap>

    <sql id="sql-hlhtZybcjlYnbltljl">
        <if test="(yjlxh != null )">and t.yjlxh = #{yjlxh}</if>
        <if test="(jzlsh != null )">and t.jzlsh = #{jzlsh}</if>
        <if test="(patid != null )">and t.patid = #{patid}</if>
        <if test="(zyh != null )">and t.zyh = #{zyh}</if>
        <if test="(ksdm != null )">and t.ksdm = #{ksdm}</if>
        <if test="(ksmc != null )">and t.ksmc = #{ksmc}</if>
        <if test="(bqdm != null )">and t.bqdm = #{bqdm}</if>
        <if test="(bqmc != null )">and t.bqmc = #{bqmc}</if>
        <if test="(rybfmc != null)">and t.rybfmc = #{rybfmc}</if>
        <if test="(bfh != null )">and t.bfh = #{bfh}</if>
        <if test="(bch != null )">and t.bch = #{bch}</if>
        <if test="(tlrq != null )">and t.tlrq = #{tlrq}</if>
        <if test="(tldddm != null )">and t.tldddm = #{tldddm}</if>
        <if test="(tldd != null )">and t.tldd = #{tldd}</if>
        <if test="(tlrybm != null )">and t.tlrybm = #{tlrybm}</if>
        <if test="(cjtlrmd != null )">and t.cjtlrmd = #{cjtlrmd}</if>
        <if test="(zcrbm != null )">and t.zcrbm = #{zcrbm}</if>
        <if test="(zcrxm != null )">and t.zcrxm = #{zcrxm}</if>
        <if test="(hzxm != null )">and t.hzxm = #{hzxm}</if>
        <if test="(sfzhm != null )">and t.sfzhm = #{sfzhm}</if>
        <if test="(xbdm != null )">and t.xbdm = #{xbdm}</if>
        <if test="(xbmc != null )">and t.xbmc = #{xbmc}</if>
        <if test="(nls != null )">and t.nls = #{nls}</if>
        <if test="(nly != null )">and t.nly = #{nly}</if>
        <if test="(tlyj != null )">and t.tlyj = #{tlyj}</if>
        <if test="(zyszgcjg != null )">and t.zyszgcjg = #{zyszgcjg}</if>
        <if test="(bzlzms != null )">and t.bzlzms = #{bzlzms}</if>
        <if test="(zycfyznr != null )">and t.zycfyznr = #{zycfyznr}</if>
        <if test="(zyyyff != null )">and t.zyyyff = #{zyyyff}</if>
        <if test="(zcrzjyj != null )">and t.zcrzjyj = #{zcrzjyj}</if>
        <if test="(ysbm != null )">and t.ysbm = #{ysbm}</if>
        <if test="(ysqm != null )">and t.ysqm = #{ysqm}</if>
        <if test="(zzysbm != null )">and t.zzysbm = #{zzysbm}</if>
        <if test="(zzysqm != null )">and t.zzysqm = #{zzysqm}</if>
        <if test="(zrysbm != null)">and t.zrysbm = #{zrysbm}</if>
        <if test="(zrysqm != null )">and t.zrysqm = #{zrysqm}</if>
        <if test="(gxsj != null )">and t.gxsj = #{gxsj}</if>
    </sql>

    <insert id="insertHlhtZybcjlYnbltljl" parameterType="com.winning.hic.model.HlhtZybcjlYnbltljl">

        INSERT INTO HLHT_ZYBCJL_YNBLTLJL
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="(yjlxh != null )">yjlxh ,</if>
            <if test="(jzlsh != null )">jzlsh ,</if>
            <if test="(patid != null )">patid ,</if>
            <if test="(zyh != null )">zyh ,</if>
            <if test="(ksdm != null )">ksdm ,</if>
            <if test="(ksmc != null )">ksmc ,</if>
            <if test="(bqdm != null )">bqdm ,</if>
            <if test="(bqmc != null )">bqmc ,</if>
            <if test="(rybfmc != null)">rybfmc ,</if>
            <if test="(bfh != null )">bfh ,</if>
            <if test="(bch != null )">bch ,</if>
            <if test="(tlrq != null )">tlrq ,</if>
            <if test="(tldddm != null )">tldddm ,</if>
            <if test="(tldd != null )">tldd ,</if>
            <if test="(tlrybm != null )">tlrybm ,</if>
            <if test="(cjtlrmd != null )">cjtlrmd ,</if>
            <if test="(zcrbm != null )">zcrbm ,</if>
            <if test="(zcrxm != null )">zcrxm ,</if>
            <if test="(hzxm != null )">hzxm ,</if>
            <if test="(sfzhm != null )">sfzhm ,</if>
            <if test="(xbdm != null )">xbdm ,</if>
            <if test="(xbmc != null )">xbmc ,</if>
            <if test="(nls != null )">nls ,</if>
            <if test="(nly != null )">nly ,</if>
            <if test="(tlyj != null )">tlyj ,</if>
            <if test="(zyszgcjg != null )">zyszgcjg ,</if>
            <if test="(bzlzms != null )">bzlzms ,</if>
            <if test="(zycfyznr != null )">zycfyznr ,</if>
            <if test="(zyyyff != null )">zyyyff ,</if>
            <if test="(zcrzjyj != null )">zcrzjyj ,</if>
            <if test="(ysbm != null )">ysbm ,</if>
            <if test="(ysqm != null )">ysqm ,</if>
            <if test="(zzysbm != null )">zzysbm ,</if>
            <if test="(zzysqm != null )">zzysqm ,</if>
            <if test="(zrysbm != null)">zrysbm ,</if>
            <if test="(zrysqm != null )">zrysqm ,</if>
            <if test="(gxsj != null )">gxsj ,</if>
        </trim>
        VALUES
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="(yjlxh != null )">#{yjlxh , jdbcType= VARCHAR },</if>
            <if test="(jzlsh != null )">#{jzlsh , jdbcType= VARCHAR },</if>
            <if test="(patid != null )">#{patid , jdbcType= VARCHAR },</if>
            <if test="(zyh != null )">#{zyh , jdbcType= VARCHAR },</if>
            <if test="(ksdm != null )">#{ksdm , jdbcType= VARCHAR },</if>
            <if test="(ksmc != null )">#{ksmc , jdbcType= VARCHAR },</if>
            <if test="(bqdm != null )">#{bqdm , jdbcType= VARCHAR },</if>
            <if test="(bqmc != null )">#{bqmc , jdbcType= VARCHAR },</if>
            <if test="(rybfmc != null)">#{rybfmc , jdbcType= VARCHAR },</if>
            <if test="(bfh != null )">#{bfh , jdbcType= VARCHAR },</if>
            <if test="(bch != null )">#{bch , jdbcType= VARCHAR },</if>
            <if test="(tlrq != null )">#{tlrq , jdbcType= TIMESTAMP },</if>
            <if test="(tldddm != null )">#{tldddm , jdbcType= VARCHAR },</if>
            <if test="(tldd != null )">#{tldd , jdbcType= VARCHAR },</if>
            <if test="(tlrybm != null )">#{tlrybm , jdbcType= VARCHAR },</if>
            <if test="(cjtlrmd != null )">#{cjtlrmd , jdbcType= VARCHAR },</if>
            <if test="(zcrbm != null )">#{zcrbm , jdbcType= VARCHAR },</if>
            <if test="(zcrxm != null )">#{zcrxm , jdbcType= VARCHAR },</if>
            <if test="(hzxm != null )">#{hzxm , jdbcType= VARCHAR },</if>
            <if test="(sfzhm != null )">#{sfzhm , jdbcType= VARCHAR },</if>
            <if test="(xbdm != null )">#{xbdm , jdbcType= VARCHAR },</if>
            <if test="(xbmc != null )">#{xbmc , jdbcType= VARCHAR },</if>
            <if test="(nls != null )">#{nls , jdbcType= NUMERIC },</if>
            <if test="(nly != null )">#{nly , jdbcType= VARCHAR },</if>
            <if test="(tlyj != null )">#{tlyj , jdbcType= VARCHAR },</if>
            <if test="(zyszgcjg != null )">#{zyszgcjg , jdbcType= VARCHAR },</if>
            <if test="(bzlzms != null )">#{bzlzms , jdbcType= VARCHAR },</if>
            <if test="(zycfyznr != null )">#{zycfyznr , jdbcType= VARCHAR },</if>
            <if test="(zyyyff != null )">#{zyyyff , jdbcType= VARCHAR },</if>
            <if test="(zcrzjyj != null )">#{zcrzjyj , jdbcType= VARCHAR },</if>
            <if test="(ysbm != null )">#{ysbm , jdbcType= VARCHAR },</if>
            <if test="(ysqm != null )">#{ysqm , jdbcType= VARCHAR },</if>
            <if test="(zzysbm != null )">#{zzysbm , jdbcType= VARCHAR },</if>
            <if test="(zzysqm != null )">#{zzysqm , jdbcType= VARCHAR },</if>
            <if test="(zrysbm != null)">#{zrysbm , jdbcType= VARCHAR },</if>
            <if test="(zrysqm != null )">#{zrysqm , jdbcType= VARCHAR },</if>
            <if test="(gxsj != null )">#{gxsj , jdbcType= TIMESTAMP },</if>
        </trim>
    </insert>

    <update id="updateHlhtZybcjlYnbltljl" parameterType="com.winning.hic.model.HlhtZybcjlYnbltljl">
        UPDATE HLHT_ZYBCJL_YNBLTLJL
        <set>
            <trim suffixOverrides=",">
                <if test="(yjlxh != null )">yjlxh = #{yjlxh , jdbcType= VARCHAR },</if>
                <if test="(jzlsh != null )">jzlsh = #{jzlsh , jdbcType= VARCHAR },</if>
                <if test="(patid != null )">patid = #{patid , jdbcType= VARCHAR },</if>
                <if test="(zyh != null )">zyh = #{zyh , jdbcType= VARCHAR },</if>
                <if test="(ksdm != null )">ksdm = #{ksdm , jdbcType= VARCHAR },</if>
                <if test="(ksmc != null )">ksmc = #{ksmc , jdbcType= VARCHAR },</if>
                <if test="(bqdm != null )">bqdm = #{bqdm , jdbcType= VARCHAR },</if>
                <if test="(bqmc != null )">bqmc = #{bqmc , jdbcType= VARCHAR },</if>
                <if test="(rybfmc != null)">rybfmc = #{rybfmc , jdbcType= VARCHAR },</if>
                <if test="(bfh != null )">bfh = #{bfh , jdbcType= VARCHAR },</if>
                <if test="(bch != null )">bch = #{bch , jdbcType= VARCHAR },</if>
                <if test="(tlrq != null )">tlrq = #{tlrq , jdbcType= TIMESTAMP },</if>
                <if test="(tldddm != null )">tldddm = #{tldddm , jdbcType= VARCHAR },</if>
                <if test="(tldd != null )">tldd = #{tldd , jdbcType= VARCHAR },</if>
                <if test="(tlrybm != null )">tlrybm = #{tlrybm , jdbcType= VARCHAR },</if>
                <if test="(cjtlrmd != null )">cjtlrmd = #{cjtlrmd , jdbcType= VARCHAR },</if>
                <if test="(zcrbm != null )">zcrbm = #{zcrbm , jdbcType= VARCHAR },</if>
                <if test="(zcrxm != null )">zcrxm = #{zcrxm , jdbcType= VARCHAR },</if>
                <if test="(hzxm != null )">hzxm = #{hzxm , jdbcType= VARCHAR },</if>
                <if test="(sfzhm != null )">sfzhm = #{sfzhm , jdbcType= VARCHAR },</if>
                <if test="(xbdm != null )">xbdm = #{xbdm , jdbcType= VARCHAR },</if>
                <if test="(xbmc != null )">xbmc = #{xbmc , jdbcType= VARCHAR },</if>
                <if test="(nls != null )">nls = #{nls , jdbcType= NUMERIC },</if>
                <if test="(nly != null )">nly = #{nly , jdbcType= VARCHAR },</if>
                <if test="(tlyj != null )">tlyj = #{tlyj , jdbcType= VARCHAR },</if>
                <if test="(zyszgcjg != null )">zyszgcjg = #{zyszgcjg , jdbcType= VARCHAR },</if>
                <if test="(bzlzms != null )">bzlzms = #{bzlzms , jdbcType= VARCHAR },</if>
                <if test="(zycfyznr != null )">zycfyznr = #{zycfyznr , jdbcType= VARCHAR },</if>
                <if test="(zyyyff != null )">zyyyff = #{zyyyff , jdbcType= VARCHAR },</if>
                <if test="(zcrzjyj != null )">zcrzjyj = #{zcrzjyj , jdbcType= VARCHAR },</if>
                <if test="(ysbm != null )">ysbm = #{ysbm , jdbcType= VARCHAR },</if>
                <if test="(ysqm != null )">ysqm = #{ysqm , jdbcType= VARCHAR },</if>
                <if test="(zzysbm != null )">zzysbm = #{zzysbm , jdbcType= VARCHAR },</if>
                <if test="(zzysqm != null )">zzysqm = #{zzysqm , jdbcType= VARCHAR },</if>
                <if test="(zrysbm != null)">zrysbm = #{zrysbm , jdbcType= VARCHAR },</if>
                <if test="(zrysqm != null )">zrysqm = #{zrysqm , jdbcType= VARCHAR },</if>
                <if test="(gxsj != null )">gxsj = #{gxsj , jdbcType= TIMESTAMP },</if>
            </trim>
        </set>
        <where>
            <if test="(yjlxh != null )">and yjlxh = #{yjlxh , jdbcType= VARCHAR }</if>
            <if test="(yjlxh == null or yjlxh == '') and (map.pks != null and map.pks.size > 0)">
                and (yjlxh) in
                <foreach item="item" collection="map.pks" open="(" separator="," close=")">#{item}</foreach>
            </if>
        </where>
    </update>

    <delete id="deleteHlhtZybcjlYnbltljl" parameterType="com.winning.hic.model.HlhtZybcjlYnbltljl">
        delete from HLHT_ZYBCJL_YNBLTLJL
        <where>
            <if test="(yjlxh != null )">and yjlxh = #{yjlxh , jdbcType= VARCHAR }</if>
            <if test="(yjlxh == null or yjlxh == '') and (map.pks != null and map.pks.size > 0)">
                and (yjlxh) in
                <foreach item="item" collection="map.pks" open="(" separator="," close=")">#{item}</foreach>
            </if>
        </where>
    </delete>

    <delete id="deleteHlhtZybcjlYnbltljlByYjlxh" parameterType="com.winning.hic.model.HlhtZybcjlYnbltljl">
        delete from HLHT_ZYBCJL_YNBLTLJL
        WHERE yjlxh = #{yjlxh}
    </delete>


    <select id="selectHlhtZybcjlYnbltljl" resultMap="hlhtZybcjlYnbltljlResult"
            parameterType="com.winning.hic.model.HlhtZybcjlYnbltljl">
        SELECT * FROM HLHT_ZYBCJL_YNBLTLJL t
        <where>
            <include refid="sql-hlhtZybcjlYnbltljl"/>
        </where>
    </select>

    <select id="selectHlhtZybcjlYnbltljlList" resultMap="hlhtZybcjlYnbltljlResultForList"
            parameterType="com.winning.hic.model.HlhtZybcjlYnbltljl">
        SELECT
        <if test="row.count != null and row.count != ''">top ${row.count}</if>
        * FROM HLHT_ZYBCJL_YNBLTLJL t
        <where>
            <include refid="sql-hlhtZybcjlYnbltljl"/>
        </where>
        ORDER BY t.yjlxh ASC
    </select>

    <select id="selectHlhtZybcjlYnbltljlCount" resultType="int"
            parameterType="com.winning.hic.model.HlhtZybcjlYnbltljl">
        select count(1) from HLHT_ZYBCJL_YNBLTLJL t
        <where>
            <include refid="sql-hlhtZybcjlYnbltljl"/>
        </where>
    </select>

    <select id="selectHlhtZybcjlYnbltljlPageList" resultMap="hlhtZybcjlYnbltljlResult"
            parameterType="com.winning.hic.model.HlhtZybcjlYnbltljl">
        SELECT * FROM (
        SELECT t.* ,
       ROW_NUMBER() OVER ( ORDER BY t.yjlxh DESC ) AS _RN
        FROM HLHT_ZYBCJL_YNBLTLJL t
        <where>
            <include refid="sql-hlhtZybcjlYnbltljl"/>
        </where>
        <!-- order by  asc -->
        ) TEMP_TABLE WHERE _RN BETWEEN #{row.first} + 1 AND #{row.first} + #{row.count}
    </select>

    <select id="selectHlhtZybcjlYnbltljlListByProc" resultMap="hlhtZybcjlYnbltljlResult" statementType="CALLABLE"
            parameterType="com.winning.hic.model.HlhtZybcjlYnbltljl">
        exec USP_HLHT_ZYBCJL_YNBLTLJL_DATA #{map.sourceType},#{map.startDate},#{map.endDate},#{map.syxh}
    </select>


</mapper>