<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.winning.hic.dao.hdw.MZCommonQueryDao">

    <!--#####################resultMap start #############################-->
    <!--门(急)诊病历/急诊留观病历-->
    <resultMap id="hlhtMjzblJzlgblResultForList" type="com.winning.hic.model.HlhtMjzblJzlgbl">
        <result column="yjlxh" property="yjlxh" jdbcType="VARCHAR"/>
        <result column="jzlsh" property="jzlsh" jdbcType="VARCHAR"/>
        <result column="patid" property="patid" jdbcType="VARCHAR"/>
        <result column="hzxm" property="hzxm" jdbcType="VARCHAR"/>
        <result column="mjzh" property="mjzh" jdbcType="VARCHAR"/>
        <result column="zyh" property="zyh" jdbcType="VARCHAR"/>
        <result column="sfzhm" property="sfzhm" jdbcType="VARCHAR"/>
        <result column="zzjgdm" property="zzjgdm" jdbcType="VARCHAR"/>
        <result column="zzjgmc" property="zzjgmc" jdbcType="VARCHAR"/>
        <result column="ksdm" property="ksdm" jdbcType="VARCHAR"/>
        <result column="ksmc" property="ksmc" jdbcType="VARCHAR"/>
        <result column="xbdm" property="xbdm" jdbcType="VARCHAR"/>
        <result column="xbmc" property="xbmc" jdbcType="VARCHAR"/>
        <result column="csrq" property="csrq" jdbcType="DATE"/>
        <result column="nls" property="nls" jdbcType="NUMERIC"/>
        <result column="nly" property="nly" jdbcType="VARCHAR"/>
        <result column="gmsbz" property="gmsbz" jdbcType="CHAR"/>
        <result column="gms" property="gms" jdbcType="VARCHAR"/>
        <result column="jzrqsj" property="jzrqsj" jdbcType="TIMESTAMP"/>
        <result column="czbzdm" property="czbzdm" jdbcType="VARCHAR"/>
        <result column="czbzmc" property="czbzmc" jdbcType="VARCHAR"/>
        <result column="srgcsrq" property="srgcsrq" jdbcType="TIMESTAMP"/>
        <result column="zs" property="zs" jdbcType="VARCHAR"/>
        <result column="xbs" property="xbs" jdbcType="VARCHAR"/>
        <result column="jws" property="jws" jdbcType="VARCHAR"/>
        <result column="tgjc" property="tgjc" jdbcType="VARCHAR"/>
        <result column="zyszgcjg" property="zyszgcjg" jdbcType="VARCHAR"/>
        <result column="fzjcxm" property="fzjcxm" jdbcType="VARCHAR"/>
        <result column="fzjcjg" property="fzjcjg" jdbcType="VARCHAR"/>
        <result column="xyzdbm" property="xyzdbm" jdbcType="VARCHAR"/>
        <result column="xyzdmc" property="xyzdmc" jdbcType="VARCHAR"/>
        <result column="zybmdm" property="zybmdm" jdbcType="VARCHAR"/>
        <result column="zybmmc" property="zybmmc" jdbcType="VARCHAR"/>
        <result column="zyzhdm" property="zyzhdm" jdbcType="VARCHAR"/>
        <result column="zyzhmc" property="zyzhmc" jdbcType="VARCHAR"/>
        <result column="bzyj" property="bzyj" jdbcType="VARCHAR"/>
        <result column="zfbm" property="zfbm" jdbcType="VARCHAR"/>
        <result column="zzzf" property="zzzf" jdbcType="VARCHAR"/>
        <result column="yzxmlx" property="yzxmlx" jdbcType="VARCHAR"/>
        <result column="yzxmlxmc" property="yzxmlxmc" jdbcType="VARCHAR"/>
        <result column="yzxmnr" property="yzxmnr" jdbcType="VARCHAR"/>
        <result column="yzbzxx" property="yzbzxx" jdbcType="VARCHAR"/>
        <result column="yzklksdm" property="yzklksdm" jdbcType="VARCHAR"/>
        <result column="yzklks" property="yzklks" jdbcType="VARCHAR"/>
        <result column="yzklzdm" property="yzklzdm" jdbcType="VARCHAR"/>
        <result column="yzklzqm" property="yzklzqm" jdbcType="VARCHAR"/>
        <result column="yzklrq" property="yzklrq" jdbcType="TIMESTAMP"/>
        <result column="yzshzdm" property="yzshzdm" jdbcType="VARCHAR"/>
        <result column="yzshzqm" property="yzshzqm" jdbcType="VARCHAR"/>
        <result column="yzshrq" property="yzshrq" jdbcType="TIMESTAMP"/>
        <result column="yzzxksdm" property="yzzxksdm" jdbcType="VARCHAR"/>
        <result column="yzzxks" property="yzzxks" jdbcType="VARCHAR"/>
        <result column="yzzxzdm" property="yzzxzdm" jdbcType="VARCHAR"/>
        <result column="yzzxzqm" property="yzzxzqm" jdbcType="VARCHAR"/>
        <result column="yzzxrq" property="yzzxrq" jdbcType="TIMESTAMP"/>
        <result column="yzzxzt" property="yzzxzt" jdbcType="VARCHAR"/>
        <result column="qxyzzdm" property="qxyzzdm" jdbcType="VARCHAR"/>
        <result column="qxyzzqm" property="qxyzzqm" jdbcType="VARCHAR"/>
        <result column="yzqxrq" property="yzqxrq" jdbcType="TIMESTAMP"/>
        <result column="zrysbm" property="zrysbm" jdbcType="VARCHAR"/>
        <result column="zrysqm" property="zrysqm" jdbcType="VARCHAR"/>
        <result column="yzjhjsrq" property="yzjhjsrq" jdbcType="TIMESTAMP"/>
        <result column="dzsqdbh" property="dzsqdbh" jdbcType="VARCHAR"/>
        <result column="jzlgbcjl" property="jzlgbcjl" jdbcType="VARCHAR"/>
        <result column="qjksrq" property="qjksrq" jdbcType="TIMESTAMP"/>
        <result column="qjjsrq" property="qjjsrq" jdbcType="TIMESTAMP"/>
        <result column="jzqjjl" property="jzqjjl" jdbcType="VARCHAR"/>
        <result column="ssjczbm" property="ssjczbm" jdbcType="VARCHAR"/>
        <result column="ssjczmc" property="ssjczmc" jdbcType="VARCHAR"/>
        <result column="ssmbbwbm" property="ssmbbwbm" jdbcType="VARCHAR"/>
        <result column="ssmbbw" property="ssmbbw" jdbcType="VARCHAR"/>
        <result column="jrwdm" property="jrwdm" jdbcType="VARCHAR"/>
        <result column="jrwmc" property="jrwmc" jdbcType="VARCHAR"/>
        <result column="ssjczff" property="ssjczff" jdbcType="VARCHAR"/>
        <result column="ssjczcs" property="ssjczcs" jdbcType="VARCHAR"/>
        <result column="jlrqsj" property="jlrqsj" jdbcType="TIMESTAMP"/>
        <result column="zysx" property="zysx" jdbcType="VARCHAR"/>
        <result column="cjqjrydm" property="cjqjrydm" jdbcType="VARCHAR"/>
        <result column="cjqjrymd" property="cjqjrymd" jdbcType="VARCHAR"/>
        <result column="zyjszwlb" property="zyjszwlb" jdbcType="VARCHAR"/>
        <result column="zyjszwlbmc" property="zyjszwlbmc" jdbcType="VARCHAR"/>
        <result column="hzqxdm" property="hzqxdm" jdbcType="VARCHAR"/>
        <result column="hzqxmc" property="hzqxmc" jdbcType="VARCHAR"/>
        <result column="ysbm" property="ysbm" jdbcType="VARCHAR"/>
        <result column="ysqm" property="ysqm" jdbcType="VARCHAR"/>
        <result column="gxsj" property="gxsj" jdbcType="TIMESTAMP"/>
    </resultMap>
    <resultMap id="hlhtMjzblJzlgblResult" type="com.winning.hic.model.HlhtMjzblJzlgbl"
               extends="hlhtMjzblJzlgblResultForList">
    </resultMap>
    <!--病历概要/基本健康信息 ANMR_BLGY_JBJKXX-->
    <resultMap id="hlhtBlgyJbjkxxResultForList" type="com.winning.hic.model.HlhtBlgyJbjkxx">
        <result column="yjlxh" property="yjlxh" jdbcType="VARCHAR"/>
        <result column="jzlsh" property="jzlsh" jdbcType="VARCHAR"/>
        <result column="patid" property="patid" jdbcType="VARCHAR"/>
        <result column="hzxm" property="hzxm" jdbcType="VARCHAR"/>
        <result column="mjzh" property="mjzh" jdbcType="VARCHAR"/>
        <result column="zyh" property="zyh" jdbcType="VARCHAR"/>
        <result column="jzlb" property="jzlb" jdbcType="VARCHAR"/>
        <result column="xbdm" property="xbdm" jdbcType="VARCHAR"/>
        <result column="xbmc" property="xbmc" jdbcType="VARCHAR"/>
        <result column="sfzhm" property="sfzhm" jdbcType="VARCHAR"/>
        <result column="jkkh" property="jkkh" jdbcType="VARCHAR"/>
        <result column="aboxxdm" property="aboxxdm" jdbcType="VARCHAR"/>
        <result column="aboxxmc" property="aboxxmc" jdbcType="VARCHAR"/>
        <result column="rhxxdm" property="rhxxdm" jdbcType="VARCHAR"/>
        <result column="rhxxmc" property="rhxxmc" jdbcType="VARCHAR"/>
        <result column="jbs" property="jbs" jdbcType="VARCHAR"/>
        <result column="crbs" property="crbs" jdbcType="VARCHAR"/>
        <result column="yfjzs" property="yfjzs" jdbcType="VARCHAR"/>
        <result column="sss" property="sss" jdbcType="VARCHAR"/>
        <result column="sxs" property="sxs" jdbcType="VARCHAR"/>
        <result column="gms" property="gms" jdbcType="VARCHAR"/>
        <result column="grs" property="grs" jdbcType="VARCHAR"/>
        <result column="hys" property="hys" jdbcType="VARCHAR"/>
        <result column="yjs" property="yjs" jdbcType="VARCHAR"/>
        <result column="jzs" property="jzs" jdbcType="VARCHAR"/>
        <result column="gxsj" property="gxsj" jdbcType="TIMESTAMP"/>
        <result column="syxh" property="syxh" jdbcType="VARCHAR"/>
    </resultMap>
    <resultMap id="hlhtBlgyJbjkxxResult" type="com.winning.hic.model.HlhtBlgyJbjkxx"
               extends="hlhtBlgyJbjkxxResultForList">

    </resultMap>
    <!--门(急)诊处方/西药处方 ANMR_MJZCF_XYCF -->
    <resultMap id="hlhtMjzcfXycfResultForList" type="com.winning.hic.model.HlhtMjzcfXycf">
        <result column="yjlxh" property="yjlxh" jdbcType="VARCHAR"/>
        <result column="jzlsh" property="jzlsh" jdbcType="VARCHAR"/>
        <result column="patid" property="patid" jdbcType="VARCHAR"/>
        <result column="hzxm" property="hzxm" jdbcType="VARCHAR"/>
        <result column="mjzh" property="mjzh" jdbcType="VARCHAR"/>
        <result column="sfzhm" property="sfzhm" jdbcType="VARCHAR"/>
        <result column="xbdm" property="xbdm" jdbcType="VARCHAR"/>
        <result column="xbmc" property="xbmc" jdbcType="VARCHAR"/>
        <result column="nls" property="nls" jdbcType="NUMERIC"/>
        <result column="nly" property="nly" jdbcType="VARCHAR"/>
        <result column="cfxh" property="cfxh" jdbcType="VARCHAR"/>
        <result column="zzjgdm" property="zzjgdm" jdbcType="VARCHAR"/>
        <result column="zzjgmc" property="zzjgmc" jdbcType="VARCHAR"/>
        <result column="cfklrq" property="cfklrq" jdbcType="TIMESTAMP"/>
        <result column="cfyxts" property="cfyxts" jdbcType="NUMERIC"/>
        <result column="cfklskdm" property="cfklskdm" jdbcType="VARCHAR"/>
        <result column="cfklks" property="cfklks" jdbcType="VARCHAR"/>
        <result column="jbzdbm" property="jbzdbm" jdbcType="VARCHAR"/>
        <result column="jbzd" property="jbzd" jdbcType="VARCHAR"/>
        <result column="ywdm" property="ywdm" jdbcType="VARCHAR"/>
        <result column="ywmc" property="ywmc" jdbcType="VARCHAR"/>
        <result column="ywgg" property="ywgg" jdbcType="VARCHAR"/>
        <result column="ywjxdm" property="ywjxdm" jdbcType="VARCHAR"/>
        <result column="ywjx" property="ywjx" jdbcType="VARCHAR"/>
        <result column="ywsycjl" property="ywsycjl" jdbcType="NUMERIC"/>
        <result column="ywsyjldw" property="ywsyjldw" jdbcType="VARCHAR"/>
        <result column="ywsypcdm" property="ywsypcdm" jdbcType="VARCHAR"/>
        <result column="ywsypc" property="ywsypc" jdbcType="VARCHAR"/>
        <result column="ywsytj" property="ywsytj" jdbcType="VARCHAR"/>
        <result column="ywsytjmc" property="ywsytjmc" jdbcType="VARCHAR"/>
        <result column="ywsyzjl" property="ywsyzjl" jdbcType="NUMERIC"/>
        <result column="cfypzh" property="cfypzh" jdbcType="VARCHAR"/>
        <result column="ysbm" property="ysbm" jdbcType="VARCHAR"/>
        <result column="klysqm" property="klysqm" jdbcType="VARCHAR"/>
        <result column="shyjsbm" property="shyjsbm" jdbcType="VARCHAR"/>
        <result column="shyjsqm" property="shyjsqm" jdbcType="VARCHAR"/>
        <result column="shyjsqmsj" property="shyjsqmsj" jdbcType="TIMESTAMP"/>
        <result column="tpyjsbm" property="tpyjsbm" jdbcType="VARCHAR"/>
        <result column="tpyjsqm" property="tpyjsqm" jdbcType="VARCHAR"/>
        <result column="cftpsj" property="cftpsj" jdbcType="TIMESTAMP"/>
        <result column="hdyjsbm" property="hdyjsbm" jdbcType="VARCHAR"/>
        <result column="hdyjsqm" property="hdyjsqm" jdbcType="VARCHAR"/>
        <result column="cfhdsj" property="cfhdsj" jdbcType="TIMESTAMP"/>
        <result column="fyyjsbm" property="fyyjsbm" jdbcType="VARCHAR"/>
        <result column="fyyjsqm" property="fyyjsqm" jdbcType="VARCHAR"/>
        <result column="cffysj" property="cffysj" jdbcType="TIMESTAMP"/>
        <result column="cfbzxx" property="cfbzxx" jdbcType="VARCHAR"/>
        <result column="cfypje" property="cfypje" jdbcType="NUMERIC"/>
        <result column="gxsj" property="gxsj" jdbcType="TIMESTAMP"/>
    </resultMap>
    <resultMap id="hlhtMjzcfXycfResult" type="com.winning.hic.model.HlhtMjzcfXycf" extends="hlhtMjzcfXycfResultForList">

    </resultMap>

    <resultMap id="hlhtBlgyWssjzyResultForList" type="com.winning.hic.model.HlhtBlgyWssjzy">
        <result column="yjlxh" property="yjlxh" jdbcType="VARCHAR"/>
        <result column="jzlsh" property="jzlsh" jdbcType="VARCHAR"/>
        <result column="patid" property="patid" jdbcType="VARCHAR"/>
        <result column="hzxm" property="hzxm" jdbcType="VARCHAR"/>
        <result column="mjzh" property="mjzh" jdbcType="VARCHAR"/>
        <result column="zyh" property="zyh" jdbcType="VARCHAR"/>
        <result column="jzlb" property="jzlb" jdbcType="VARCHAR"/>
        <result column="sfzhm" property="sfzhm" jdbcType="VARCHAR"/>
        <result column="xbdm" property="xbdm" jdbcType="VARCHAR"/>
        <result column="xbmc" property="xbmc" jdbcType="VARCHAR"/>
        <result column="jmjkkh" property="jmjkkh" jdbcType="VARCHAR"/>
        <result column="zzjgdm" property="zzjgdm" jdbcType="VARCHAR"/>
        <result column="zzjgmc" property="zzjgmc" jdbcType="VARCHAR"/>
        <result column="ksdm" property="ksdm" jdbcType="VARCHAR"/>
        <result column="ksmc" property="ksmc" jdbcType="VARCHAR"/>
        <result column="hzlxdm" property="hzlxdm" jdbcType="VARCHAR"/>
        <result column="hzlxmc" property="hzlxmc" jdbcType="VARCHAR"/>
        <result column="jzrqsj" property="jzrqsj" jdbcType="TIMESTAMP"/>
        <result column="ryrqsj" property="ryrqsj" jdbcType="TIMESTAMP"/>
        <result column="cyrqsj" property="cyrqsj" jdbcType="TIMESTAMP"/>
        <result column="fbrqsj" property="fbrqsj" jdbcType="TIMESTAMP"/>
        <result column="jzyy" property="jzyy" jdbcType="VARCHAR"/>
        <result column="xyzd" property="xyzd" jdbcType="VARCHAR"/>
        <result column="xyzdmc" property="xyzdmc" jdbcType="VARCHAR"/>
        <result column="zybm" property="zybm" jdbcType="VARCHAR"/>
        <result column="zybmmc" property="zybmmc" jdbcType="VARCHAR"/>
        <result column="zyzh" property="zyzh" jdbcType="VARCHAR"/>
        <result column="zyzhmc" property="zyzhmc" jdbcType="VARCHAR"/>
        <result column="qtxyzd" property="qtxyzd" jdbcType="VARCHAR"/>
        <result column="qtxyzdmc" property="qtxyzdmc" jdbcType="VARCHAR"/>
        <result column="ssjcz" property="ssjcz" jdbcType="VARCHAR"/>
        <result column="ssjczmc" property="ssjczmc" jdbcType="VARCHAR"/>
        <result column="gjywdm" property="gjywdm" jdbcType="VARCHAR"/>
        <result column="gjywmc" property="gjywmc" jdbcType="VARCHAR"/>
        <result column="gjywyf" property="gjywyf" jdbcType="VARCHAR"/>
        <result column="ywblfy" property="ywblfy" jdbcType="VARCHAR"/>
        <result column="zysylb" property="zysylb" jdbcType="VARCHAR"/>
        <result column="zysylbmc" property="zysylbmc" jdbcType="VARCHAR"/>
        <result column="qtyxcz" property="qtyxcz" jdbcType="VARCHAR"/>
        <result column="gbsy" property="gbsy" jdbcType="VARCHAR"/>
        <result column="gbsymc" property="gbsymc" jdbcType="VARCHAR"/>
        <result column="zljg" property="zljg" jdbcType="VARCHAR"/>
        <result column="zljgmc" property="zljgmc" jdbcType="VARCHAR"/>
        <result column="zrysbm" property="zrysbm" jdbcType="VARCHAR"/>
        <result column="zrys" property="zrys" jdbcType="VARCHAR"/>
        <result column="gxsj" property="gxsj" jdbcType="TIMESTAMP"/>
        <result column="syxh" property="syxh" jdbcType="VARCHAR"/>
    </resultMap>

    <resultMap id="hlhtBlgyWssjzyResult" type="com.winning.hic.model.HlhtBlgyWssjzy"
        extends="hlhtBlgyWssjzyResultForList">

    </resultMap>

    <resultMap id="hlhtMjzblMjzblResultForList" type="com.winning.hic.model.HlhtMjzblMjzbl">
        <result column="yjlxh" property="yjlxh" jdbcType="VARCHAR"/>
        <result column="jzlsh" property="jzlsh" jdbcType="VARCHAR"/>
        <result column="patid" property="patid" jdbcType="VARCHAR"/>
        <result column="hzxm" property="hzxm" jdbcType="VARCHAR"/>
        <result column="mjzh" property="mjzh" jdbcType="VARCHAR"/>
        <result column="zyh" property="zyh" jdbcType="VARCHAR"/>
        <result column="sfzhm" property="sfzhm" jdbcType="VARCHAR"/>
        <result column="xbdm" property="xbdm" jdbcType="VARCHAR"/>
        <result column="xbmc" property="xbmc" jdbcType="VARCHAR"/>
        <result column="csrq" property="csrq" jdbcType="DATE"/>
        <result column="nls" property="nls" jdbcType="NUMERIC"/>
        <result column="nly" property="nly" jdbcType="VARCHAR"/>
        <result column="zzjgdm" property="zzjgdm" jdbcType="VARCHAR"/>
        <result column="zzjgmc" property="zzjgmc" jdbcType="VARCHAR"/>
        <result column="ksdm" property="ksdm" jdbcType="VARCHAR"/>
        <result column="ksmc" property="ksmc" jdbcType="VARCHAR"/>
        <result column="gmsbz" property="gmsbz" jdbcType="CHAR"/>
        <result column="gms" property="gms" jdbcType="VARCHAR"/>
        <result column="jzrqsj" property="jzrqsj" jdbcType="TIMESTAMP"/>
        <result column="czbzdm" property="czbzdm" jdbcType="VARCHAR"/>
        <result column="czbzmc" property="czbzmc" jdbcType="VARCHAR"/>
        <result column="zs" property="zs" jdbcType="VARCHAR"/>
        <result column="xbs" property="xbs" jdbcType="VARCHAR"/>
        <result column="jws" property="jws" jdbcType="VARCHAR"/>
        <result column="tgjc" property="tgjc" jdbcType="VARCHAR"/>
        <result column="zyszgcjg" property="zyszgcjg" jdbcType="VARCHAR"/>
        <result column="fzjcxm" property="fzjcxm" jdbcType="VARCHAR"/>
        <result column="fzjcjg" property="fzjcjg" jdbcType="VARCHAR"/>
        <result column="xyzdbm" property="xyzdbm" jdbcType="VARCHAR"/>
        <result column="xyzdmc" property="xyzdmc" jdbcType="VARCHAR"/>
        <result column="zybmdm" property="zybmdm" jdbcType="VARCHAR"/>
        <result column="zybmmc" property="zybmmc" jdbcType="VARCHAR"/>
        <result column="zyzhdm" property="zyzhdm" jdbcType="VARCHAR"/>
        <result column="zyzhmc" property="zyzhmc" jdbcType="VARCHAR"/>
        <result column="bzyj" property="bzyj" jdbcType="VARCHAR"/>
        <result column="zfbm" property="zfbm" jdbcType="VARCHAR"/>
        <result column="zzzf" property="zzzf" jdbcType="VARCHAR"/>
        <result column="yzxmlx" property="yzxmlx" jdbcType="VARCHAR"/>
        <result column="yzxmlxmc" property="yzxmlxmc" jdbcType="VARCHAR"/>
        <result column="yzxmnr" property="yzxmnr" jdbcType="VARCHAR"/>
        <result column="yzbzxx" property="yzbzxx" jdbcType="VARCHAR"/>
        <result column="yzklksdm" property="yzklksdm" jdbcType="VARCHAR"/>
        <result column="yzklks" property="yzklks" jdbcType="VARCHAR"/>
        <result column="yzklzdm" property="yzklzdm" jdbcType="VARCHAR"/>
        <result column="yzklzqm" property="yzklzqm" jdbcType="VARCHAR"/>
        <result column="yzklrq" property="yzklrq" jdbcType="TIMESTAMP"/>
        <result column="yzshzdm" property="yzshzdm" jdbcType="VARCHAR"/>
        <result column="yzshzqm" property="yzshzqm" jdbcType="VARCHAR"/>
        <result column="yzshrq" property="yzshrq" jdbcType="TIMESTAMP"/>
        <result column="zxksdm" property="zxksdm" jdbcType="VARCHAR"/>
        <result column="yzzxks" property="yzzxks" jdbcType="VARCHAR"/>
        <result column="yzzxzdm" property="yzzxzdm" jdbcType="VARCHAR"/>
        <result column="yzzxzqm" property="yzzxzqm" jdbcType="VARCHAR"/>
        <result column="yzzxrq" property="yzzxrq" jdbcType="TIMESTAMP"/>
        <result column="yzzxzt" property="yzzxzt" jdbcType="VARCHAR"/>
        <result column="qxyzzdm" property="qxyzzdm" jdbcType="VARCHAR"/>
        <result column="qxyzzqm" property="qxyzzqm" jdbcType="VARCHAR"/>
        <result column="yzqxrq" property="yzqxrq" jdbcType="TIMESTAMP"/>
        <result column="dzsqdbh" property="dzsqdbh" jdbcType="VARCHAR"/>
        <result column="ysbm" property="ysbm" jdbcType="VARCHAR"/>
        <result column="ysqm" property="ysqm" jdbcType="VARCHAR"/>
        <result column="gxsj" property="gxsj" jdbcType="TIMESTAMP"/>
    </resultMap>

    <resultMap id="hlhtMjzblMjzblResult" type="com.winning.hic.model.HlhtMjzblMjzbl"
        extends="hlhtMjzblMjzblResultForList">

    </resultMap>
    <!--#####################resultMap end #############################-->

    <!--chensj 门(急)诊病历/急诊留观病历 2018-8-15 14:33:06-->
    <select id="selectInitHlhtMjzblJzlgbl" parameterType="com.winning.hic.model.HlhtMjzblJzlgbl" resultMap="hlhtMjzblJzlgblResult">
        select
        a.QTBLJLXH                                                                        as yjlxh,
        b.GHXH                                                                            as jzlsh,
        b.PATID                                                                           as patid,
        b.HZXM                                                                            as hzxm,
        b.GHXH                                                                            as mjzh,
        ISNULL(b.BLH,'NA')                                                                 as zyh,
        isnull(b.SFZH,'NA')                                                                as sfzhm,
        b.KSDM                                                                            as ksdm,
        b.KSMC                                                                            as ksmc,
        ISNULL(c.BQDM,'NA')                                                                as bqdm,
        ISNULL(c.BQMC,'NA')                                                                as bqmc,
        b.SEX                                                                             as xbmc,
        CASE b.SEX WHEN '女' THEN '2' WHEN '男' THEN '1'ELSE '3' END                      as xbdm,
        CONVERT(DATE, ISNULL(b.BIRTH, '1990-01-01 00:00:00'), 120)                        AS csrq,
        ISNULL(convert (varchar,(YEAR(GETDATE())-YEAR(convert(datetime, b.BIRTH)))) ,'NA') as nls,
        datediff(month,b.BIRTH,substring(convert(char(8),getdate(),112),1,8)) %12         as nly,
        CONVERT(datetime,substring( b.JZRQ,1,4)+'-'+substring(b.JZRQ,5,2)+'-'+
                 substring(b.JZRQ,7,2)+' ' +substring(b.JZRQ,9,8) )                       as jzrqsj,
        case when b.CFZBZ = '0' then 1 else 2 end                                         as czbzdm,
        case when b.CFZBZ = '0' then '初诊' else '复诊' end                                as czbzmc,
        a.FSSJ                                                                            as jlrqsj,
        GETDATE()                                                             as gxsj
        from EMR_QTBLJLK a
        left join OUTP_JZJLK b on a.SYXH = b.EMRXH
        left join CPOE_BRSYK c on a.SYXH = c.EMRXH
        <where>
            <if test="yjlxh != null  ">
                AND a.QTBLJLXH = #{yjlxh , jdbcType= VARCHAR}
            </if>
        </where>
    </select>
    <!--chensj 病历概要/基本健康信息 门诊  2018-9-6 11:06:29-->
    <select id="selectInitHlhtBlgyJbjkxxForMz" parameterType="com.winning.hic.model.HlhtBlgyJbjkxx" resultMap="hlhtBlgyJbjkxxResult">
        SELECT
        A.GHXH                                                                      AS yjlxh,
        A.GHXH                                                                      AS jzlsh,
        A.PATID                                                                     AS patid,
        A.HZXM                                                                      AS hzxm,
        A.GHXH                                                                      AS mjzh,
        'NA'                                                                        AS zyh,
        '1'                                                                         AS jzlb,
        A.SEX                                                                       AS xbmc,
        CASE A.SEX WHEN '男' THEN '1' WHEN '女' THEN '2' ELSE '3' END               AS xbdm,
        CASE WHEN A.SFZH = '' THEN 'NA' ELSE A.SFZH END                             AS sfzhm,
        A.YBDM                                                                      AS jkkh,
        ISNULL(B.XXDM,'NA')                                                         AS aboxxdm,
        ISNULL(E.NAME,'NA')                                                         AS aboxxmc,
        ISNULL(B.RHJY,'NA')                                                         AS rhxxdm,
        ISNULL(F.NAME,'NA')                                                         AS rhxxmc,
        ISNULL(H.xbs,'NA' )                                                         AS jbs,
        'NA'                                                                        AS crbs,
        'NA'                                                                        AS yfjzs,
        'NA'                                                                        AS sss,
        'NA'                                                                        AS sxs,
        ISNULL(H.gms,'NA')                                                          AS gms,
        'NA'                                                                        AS grs,
        'NA'                                                                        AS hys,
        'NA'                                                                        AS yjs,
        'NA'                                                                        AS jzs,
        GETDATE()                                                                                    AS gxsj,
        ISNULL(A.EMRXH,'0')                                                        AS syxh
        FROM OUTP_JZJLK A
        LEFT JOIN EMR_BASYK B ON A.EMRXH  = B.SYXH
        LEFT JOIN EMR_SYS_ZDFLMXK E ON B.XXDM = E.MXDM AND E.LBDM = '96'
        LEFT JOIN EMR_SYS_ZDFLMXK F ON B.RHJY = F.MXDM AND F.LBDM = '97'
        LEFT JOIN EMR_QTBLJLK G ON  G.SYXH = A.EMRXH AND G.MXFLDM LIKE 'B+9868%' AND G.YXJL = 1
        LEFT JOIN CIS_HLHT.dbo.ANMR_MJZBL_JZLGBL H ON  G.QTBLJLXH = H.yjlxh
        <where>
            <if test="map.startDate != null and map.startDate != ''">
                and <![CDATA[CONVERT(date,substring(A.GHRQ,1,4)+'-'+substring(A.GHRQ,5,2)+'-'+substring(A.GHRQ,7,2))  >= #{map.startDate}]]>
            </if>
            <if test="map.startDate != null and map.startDate != ''">
                and <![CDATA[CONVERT(date,substring(A.GHRQ,1,4)+'-'+substring(A.GHRQ,5,2)+'-'+substring(A.GHRQ,7,2))  <= #{map.endDate}]]>
            </if>
            <if test="map.syxh != null and map.syxh != ''"> and <![CDATA[t.SYXH = #{map.syxh}]]>  </if>
        </where>
    </select>

    <!--chensj 门(急)诊处方/西药处方 2018-8-16 16:21:45 ANMR_MJZCF_XYCF -->
    <select id="selectInitHlhtMjzcfXycf" parameterType="com.winning.hic.model.HlhtMjzcfXycf" resultMap="hlhtMjzcfXycfResult">
        SELECT
        ISNULL(CONVERT(VARCHAR,T1.XH),'NA')                                                                             AS yjlxh,
        ISNULL(CONVERT(VARCHAR,T2.GHXH),'NA')                                                                           AS jzlsh,
        ISNULL(CONVERT(VARCHAR,T2.PATID),'NA')                                                                          AS patid,
        ISNULL(CONVERT(VARCHAR,T2.HZXM ),'NA')                                                                          AS hzxm,
        ISNULL(CONVERT(VARCHAR,T2.GHXH ),'NA')                                                                          AS mjzh,
        CASE WHEN RTRIM(LTRIM(T3.SFZH)) = '' THEN 'NA'
             ELSE ISNULL(CONVERT(VARCHAR,T3.SFZH ),'NA') END                                                            AS sfzhm,
        CASE T3.SEX WHEN '女' THEN '2' WHEN '男' THEN '1' ELSE '3'  END                                                AS xbdm,
        ISNULL(T3.SEX, 'NA')                                                                                            AS xbmc,
        ISNULL(CONVERT (VARCHAR,(YEAR(GETDATE())-YEAR(CONVERT(DATETIME, T3.BIRTH)))) ,'')                              AS nls,
        DATEDIFF(MONTH,T3.BIRTH,SUBSTRING(CONVERT(CHAR(8),GETDATE(),112),1,8)) %12                                     AS nly,
        ISNULL(T1.CFXH, 'NA')                                                                                           AS cfxh,
        ( SELECT t.DICT_LABEL FROM CIS_HLHT..MBZ_DICT_INFO t
        WHERE t.DICT_CODE = 'hospitalInfoNo' AND t.DICT_VALUE = 1)                                                     AS zzjgdm,
        ( SELECT t.DICT_LABEL FROM CIS_HLHT..MBZ_DICT_INFO t
        WHERE t.DICT_CODE = 'hospitalInfoName' AND t.DICT_VALUE = 1)                                                   AS zzjgmc,
        CONVERT(date,substring(T2.LRRQ,1,4)+'-'+substring(T2.LRRQ,5,2)+'-'+substring(T2.LRRQ,7,2))                     AS cfklrq,
        T1.TS                                                                                                          AS cfyxts,
        T2.KSDM                                                                                                        AS cfklskdm,
        T2.KSMC                                                                                                        AS cfklks,
        (SELECT T7.ZDDM FROM OUTP_MZBLZDK T7
        WHERE T2.GHXH = T7.GHXH AND T7.ZDLB = 0
        AND T7.ZDLX = 0 )                                                                                              AS jbzdbm,
        (SELECT T8.ZDMC FROM OUTP_MZBLZDK T8
        WHERE T2.GHXH = T8.GHXH AND T8.ZDLB = 0
        AND T8.ZDLX = 0 )                                                                                              AS jbzd,
        T1.YPDM                                                                                                        AS ywdm,
        T1.YPMC                                                                                                        AS ywmc,
        T1.YPGG                                                                                                        AS ywgg,
        T1.JXDM                                                                                                        AS ywjxdm,
        T1.JXMC                                                                                                        AS ywjx,
        T1.YPJL                                                                                                        AS ywsycjl,
        T1.JLDW                                                                                                        AS ywsyjldw,
        T1.PCDM                                                                                                        AS ywsypcdm,
        T1.PCMC                                                                                                        AS ywsypc,
        T1.YPYF                                                                                                        AS ywsytj,
        T1.YPYFMC                                                                                                      AS ywsytjmc,
        T1.YPSL*T1.YPJL                                                                                                AS ywsyzjl,
        T1.FZXH                                                                                                        AS cfypzh,
        T2.YSMC                                                                                                        AS klysqm,
        T2.YSMC                                                                                                        AS ysbm,
        'NA'                                                                                                            AS shyjsbm,
        'NA'                                                                                                            AS shyjsqm,
        CONVERT(DATE, '1990-01-01 00:00:00', 120)                                                                      AS shyjsqmsj,
        'NA'                                                                                                            AS tpyjsbm,
        'NA'                                                                                                            AS tpyjsqm,
        CONVERT(DATE, '1990-01-01 00:00:00', 120)                                                                      AS cftpsj,
        'NA'                                                                                                            AS hdyjsbm,
        'NA'                                                                                                            AS hdyjsqm,
        CONVERT(DATE, '1990-01-01 00:00:00', 120)                                                                      AS cfhdsj,
        'NA'                                                                                                            AS fyyjsbm,
        'NA'                                                                                                            AS fyyjsqm,
        CONVERT(DATE, '1990-01-01 00:00:00', 120)                                                                      AS cffysj,
        ISNULL(T2.MEMO, 'NA')                                                                                           AS cfbzxx,
        CONVERT(DECIMAL(18,2),(T1.YPSL*T1.YLSJ)/T1.YKXS)                                                               AS cfypje,
        GETDATE()                                                                                                      AS gxsj
        FROM OUTP_ORDERITEM T1
        INNER JOIN OUTP_ORDER T2 ON T1.CFXH = T2.XH
        INNER JOIN OUTP_JZJLK T3 ON T2.GHXH = T3.GHXH
        INNER JOIN ${map.hisName}.dbo.YK_YPCDMLK T6  on T1.CD_IDM = T6.idm
        WHERE
        T6.yplh='01' AND
        T3.ZDDM IS NOT NULL
        <if test="map.startDate != null and map.startDate != '' and map.endDate != null and map.endDate != ''">
            and T1.CJRQ between #{map.startDate}  and #{map.endDate}
        </if>
        <if test="map.syxh != null and map.syxh != ''"> and <![CDATA[T3.EMRXH = #{map.syxh}]]>  </if>

    </select>

    <select id="selectInitHlhtMjzcfXycfForLS" parameterType="com.winning.hic.model.HlhtMjzcfXycf" resultMap="hlhtMjzcfXycfResult">
        SELECT
        ISNULL(CONVERT(VARCHAR,T1.XH),'NA')                                                                             AS yjlxh,
        ISNULL(CONVERT(VARCHAR,T2.GHXH),'NA')                                                                           AS jzlsh,
        ISNULL(CONVERT(VARCHAR,T2.PATID),'NA')                                                                          AS patid,
        ISNULL(CONVERT(VARCHAR,T2.HZXM ),'NA')                                                                          AS hzxm,
        ISNULL(CONVERT(VARCHAR,T2.GHXH ),'NA')                                                                          AS mjzh,
        CASE WHEN RTRIM(LTRIM(T3.SFZH)) = '' THEN 'NA'
        ELSE ISNULL(CONVERT(VARCHAR,T3.SFZH ),'NA') END                                                            AS sfzhm,
        CASE T3.SEX WHEN '女' THEN '2' WHEN '男' THEN '1' ELSE '3'  END                                                AS xbdm,
        ISNULL(T3.SEX, 'NA')                                                                                            AS xbmc,
        ISNULL(CONVERT (VARCHAR,(YEAR(GETDATE())-YEAR(CONVERT(DATETIME, T3.BIRTH)))) ,'')                              AS nls,
        DATEDIFF(MONTH,T3.BIRTH,SUBSTRING(CONVERT(CHAR(8),GETDATE(),112),1,8)) %12                                     AS nly,
        ISNULL(T1.CFXH, 'NA')                                                                                           AS cfxh,
        ( SELECT t.DICT_LABEL FROM CIS_HLHT..MBZ_DICT_INFO t
        WHERE t.DICT_CODE = 'hospitalInfoNo' AND t.DICT_VALUE = 1)                                                     AS zzjgdm,
        ( SELECT t.DICT_LABEL FROM CIS_HLHT..MBZ_DICT_INFO t
        WHERE t.DICT_CODE = 'hospitalInfoName' AND t.DICT_VALUE = 1)                                                   AS zzjgmc,
        CONVERT(date,substring(T2.LRRQ,1,4)+'-'+substring(T2.LRRQ,5,2)+'-'+substring(T2.LRRQ,7,2))                     AS cfklrq,
        T1.TS                                                                                                          AS cfyxts,
        T2.KSDM                                                                                                        AS cfklskdm,
        T2.KSMC                                                                                                        AS cfklks,
        (SELECT T7.ZDDM FROM OUTP_MZBLZDK T7
        WHERE T2.GHXH = T7.GHXH AND T7.ZDLB = 0
        AND T7.ZDLX = 0 )                                                                                              AS jbzdbm,
        (SELECT T8.ZDMC FROM OUTP_MZBLZDK T8
        WHERE T2.GHXH = T8.GHXH AND T8.ZDLB = 0
        AND T8.ZDLX = 0 )                                                                                              AS jbzd,
        T1.YPDM                                                                                                        AS ywdm,
        T1.YPMC                                                                                                        AS ywmc,
        T1.YPGG                                                                                                        AS ywgg,
        T1.JXDM                                                                                                        AS ywjxdm,
        T1.JXMC                                                                                                        AS ywjx,
        T1.YPJL                                                                                                        AS ywsycjl,
        T1.JLDW                                                                                                        AS ywsyjldw,
        T1.PCDM                                                                                                        AS ywsypcdm,
        T1.PCMC                                                                                                        AS ywsypc,
        T1.YPYF                                                                                                        AS ywsytj,
        T1.YPYFMC                                                                                                      AS ywsytjmc,
        T1.YPSL*T1.YPJL                                                                                                AS ywsyzjl,
        T1.FZXH                                                                                                        AS cfypzh,
        T2.YSMC                                                                                                        AS klysqm,
        T2.YSMC                                                                                                        AS ysbm,
        'NA'                                                                                                            AS shyjsbm,
        'NA'                                                                                                            AS shyjsqm,
        CONVERT(DATE, '1990-01-01 00:00:00', 120)                                                                      AS shyjsqmsj,
        'NA'                                                                                                            AS tpyjsbm,
        'NA'                                                                                                            AS tpyjsqm,
        CONVERT(DATE, '1990-01-01 00:00:00', 120)                                                                      AS cftpsj,
        'NA'                                                                                                            AS hdyjsbm,
        'NA'                                                                                                            AS hdyjsqm,
        CONVERT(DATE, '1990-01-01 00:00:00', 120)                                                                      AS cfhdsj,
        'NA'                                                                                                            AS fyyjsbm,
        'NA'                                                                                                            AS fyyjsqm,
        CONVERT(DATE, '1990-01-01 00:00:00', 120)                                                                      AS cffysj,
        ISNULL(T2.MEMO, 'NA')                                                                                           AS cfbzxx,
        CONVERT(DECIMAL(18,2),(T1.YPSL*T1.YLSJ)/T1.YKXS)                                                               AS cfypje,
        GETDATE()                                                                                                      AS gxsj
        FROM OUTP_NORDERITEM T1
        INNER JOIN OUTP_NORDER T2 ON T1.CFXH = T2.XH
        INNER JOIN OUTP_JZJLK T3 ON T2.GHXH = T3.GHXH
        INNER JOIN ${map.hisName}.dbo.YK_YPCDMLK T6  on T1.CD_IDM = T6.idm
        WHERE
        T6.yplh='01' AND
        T3.ZDDM IS NOT NULL AND T3.ZDDM != ''
        <if test="map.startDate != null and map.startDate != '' and map.endDate != null and map.endDate != ''">
            and T1.CJRQ between #{map.startDate}  and #{map.endDate}
        </if>
        <if test="map.syxh != null and map.syxh != ''"> and <![CDATA[T3.EMRXH = #{map.syxh}]]>  </if>

    </select>

    <!-- Chen,Kuai 2018年9月21日16:56:13  门诊-卫生事件摘要 -->
    <select id="selectBlgyWssjzyMzList" parameterType="com.winning.hic.model.HlhtBlgyWssjzy" resultMap="hlhtBlgyWssjzyResult">
        SELECT
        T.XH as yjlxh,
        T.GHXH as jzlsh,
        T.PATID as patid,
        T.HZXM as hzxm,
        CONVERT(varchar,T.GHXH) as mjzh,
        '0' as zyh,
        1 as jzlb,
        (SELECT CASE T.SFZH WHEN '' THEN 'NA' WHEN NULL THEN 'NA' ELSE T.SFZH END) as sfzhm,
        (SELECT CASE T.SEX WHEN '男' THEN '1' WHEN '女' THEN '2' ELSE '3' END) as xbdm,
        T.SEX as xbmc,
        'NA' as jmjkkh,
        ii.DICT_LABEL AS zzjgdm,
        i.DICT_LABEL AS zzjgmc,
        T.KSDM as ksdm,
        T.KSMC as ksmc,
        1 as hzlxdm,
        '门诊' as hzlxmc,
        ISNULL(CONVERT(datetime,substring(T.CZRQ,1,4)+'-'+substring(T.CZRQ,5,2)+'-'+substring(T.CZRQ,7,2)+' '+substring(T.CZRQ,9,8)),'1990-01-01 00:00:00.000') as jzrqsj,
        ISNULL(CONVERT(datetime,substring(T.GHRQ,1,4)+'-'+substring(T.GHRQ,5,2)+'-'+substring(T.GHRQ,7,2)+' '+substring(T.GHRQ,9,8)),'1990-01-01 00:00:00.000') as ryrqsj,
        --ISNULL(CONVERT(datetime,substring(T.JZRQ,1,4)+'-'+substring(T.JZRQ,5,2)+'-'+substring(T.JZRQ,7,2)+' '+substring(T.JZRQ,9,8)),'1990-01-01 00:00:00.000') as cyrqsj,
        ISNULL(CONVERT(datetime,substring(T.ZJRQ,1,4)+'-'+substring(T.ZJRQ,5,2)+'-'+substring(T.ZJRQ,7,2)+' '+substring(T.ZJRQ,9,8)),'1990-01-01 00:00:00.000') as cyrqsj,
        ISNULL(CONVERT(datetime,substring(T.LRRQ,1,4)+'-'+substring(T.LRRQ,5,2)+'-'+substring(T.LRRQ,7,2)),'1990-01-01 00:00:00.000') as fbrqsj,
        (SELECT CASE T.ZDMC WHEN '' THEN 'NA' WHEN NULL THEN 'NA' ELSE T.ZDMC END) as jzyy,
        T.ZDDM as xyzd,
        T.ZDMC as xyzdmc,
        'NA' as zybm,
        'NA' as zybmmc,
        'NA' as zyzh,
        'NA' as zyzhmc,
        ISNULL(T.DBZDDM,'NA') as qtxyzd,
        ISNULL(T.DBZDMC, 'NA') as qtxyzdmc,
        'NA' as ssjcz,
        'NA' as ssjczmc,
        'NA' AS gjywdm,
        'NA' AS gjywmc,
        'NA' AS gjywyf,
        '无不良反应' as ywblfy,
        ISNULL(zycf.cflb, '1') AS zysylb,
        (SELECT CASE zycf.cflb WHEN '1' THEN '未使用' WHEN '2' THEN '中成药' WHEN '3' THEN '中草药' WHEN '9' THEN '其他中药' ELSE '未使用' END ) as zysylbmc,
        '无' as qtyxcz,
        'NA' as gbsy,
        'NA' as gbsymc,
        1 as zljg,
        '治愈' as zljgmc,
        ISNULL(T.YSDM, 'NA') as zrysbm,
        (SELECT CASE T.YSMC WHEN '' THEN 'NA' WHEN NULL THEN 'NA' ELSE T.YSMC END) as zrys,
        GETDATE() AS gxsj,T.GHXH as syxh
        FROM  OUTP_JZJLK T
        LEFT JOIN CIS_HLHT.dbo.MBZ_DICT_INFO i ON i.DICT_CODE = 'hospitalInfoName'
        LEFT JOIN CIS_HLHT.dbo.MBZ_DICT_INFO ii ON ii.DICT_CODE = 'hospitalInfoNo'
        LEFT JOIN CIS_HLHT.dbo.ANMR_MJZCF_ZYCF zycf ON zycf.jzlsh = T.GHXH
        WHERE T.JLZT='1' AND T.FZBZ >1
        <if test="map.startDate != null and map.startDate != ''">and <![CDATA[CONVERT(datetime,substring(T.GHRQ,1,4)+'-'+substring(T.GHRQ,5,2)+'-'+substring(T.GHRQ,7,2)+' '+substring(T.GHRQ,9,8)) >= #{map.startDate}]]>  </if>
        <if test="map.endDate != null and map.endDate != ''"> and <![CDATA[CONVERT(datetime,substring(T.GHRQ,1,4)+'-'+substring(T.GHRQ,5,2)+'-'+substring(T.GHRQ,7,2)+' '+substring(T.GHRQ,9,8)) <= #{map.endDate}]]>  </if>
        <if test="map.syxh != null and map.syxh != ''"> and <![CDATA[T.EMRXH = #{map.syxh}]]>  </if>

    </select>




    <!-- Chen,Kuai 2018年8月21日15:58:09  插入全部的数据 -->
    <insert id="insertHlhtBlgyWssjzyAll" parameterType="com.winning.hic.model.HlhtBlgyWssjzy">
        INSERT INTO ANMR_BLGY_WSSJZY
        SELECT DISTINCT
        a.yjlxh,
        a.jzlsh,
        a.patid,
        a.hzxm,
        a.mjzh,
        a.zyh,
        a.jzlb,
        a.sfzhm,
        a.xbdm,
        a.xbmc,
        a.jmjkkh,
        a.zzjgdm,
        a.zzjgmc,
        a.ksdm,
        a.ksmc,
        a.hzlxdm,
        a.hzlxmc,
        a.jzrqsj,
        a.ryrqsj,
        a.cyrqsj,
        a.fbrqsj,
        ISNULL(a.jzyy, 'NA') as jzyy,
        ISNULL(a.xyzd, 'NA') as xyzd,
        ISNULL(a.xyzdmc, 'NA') as xyzdmc,
        ISNULL(a.zybm, 'NA') as zybm,
        ISNULL(a.zybmmc, 'NA'),
        ISNULL(a.zyzh, 'NA'),
        ISNULL(a.zyzhmc, 'NA'),
        ISNULL(a.qtxyzd, 'NA'),
        ISNULL(a.qtxyzdmc, 'NA'),
        ISNULL(a.ssjcz, 'NA'),
        ISNULL(a.ssjczmc, 'NA'),
        ISNULL(a.gjywdm, 'NA'),
        ISNULL(a.gjywmc, 'NA'),
        (SELECT CASE a.gjywyf  WHEN NULL THEN 'NA' WHEN '' THEN 'NA' ELSE a.gjywyf END) as gjywyf,
        ISNULL(a.ywblfy, 'NA'),
        a.zysylb,
        ISNULL(a.zysylbmc, 'NA'),
        ISNULL(a.qtyxcz, 'NA'),
        ISNULL(a.gbsy, 'NA'),
        ISNULL(a.gbsymc, 'NA'),
        ISNULL(a.zljg, '1'),
        ISNULL(a.zljgmc, '治愈'),
        a.zrysbm,
        a.zrys,
        a.gxsj,
        a.syxh
        FROM
        (
        SELECT
        T.XH as yjlxh,
        T.GHXH as jzlsh,
        T.PATID as patid,
        T.HZXM as hzxm,
        CONVERT(varchar,T.GHXH) as mjzh,
        '0' as zyh,
        1 as jzlb,
        T.SFZH as sfzhm,
        (SELECT CASE T.SEX WHEN '男' THEN '1' WHEN '女' THEN '2' ELSE '3' END) as xbdm,
        T.SEX as xbmc,
        'NA' as jmjkkh,
        ii.DICT_LABEL AS zzjgdm,
        i.DICT_LABEL AS zzjgmc,
        T.KSDM as ksdm,
        T.KSMC as ksmc,
        1 as hzlxdm,
        '门诊' as hzlxmc,
        CONVERT(datetime,substring(T.CZRQ,1,4)+'-'+substring(T.CZRQ,5,2)+'-'+substring(T.CZRQ,7,2)+' '+substring(T.CZRQ,9,8)) as jzrqsj,
        CONVERT(datetime,substring(T.GHRQ,1,4)+'-'+substring(T.GHRQ,5,2)+'-'+substring(T.GHRQ,7,2)+' '+substring(T.GHRQ,9,8)) as ryrqsj,
        CONVERT(datetime,substring(T.JZRQ,1,4)+'-'+substring(T.JZRQ,5,2)+'-'+substring(T.JZRQ,7,2)+' '+substring(T.JZRQ,9,8)) as cyrqsj,
        CONVERT(datetime,substring(T.LRRQ,1,4)+'-'+substring(T.LRRQ,5,2)+'-'+substring(T.LRRQ,7,2)) as fbrqsj,
        ISNULL(T.ZDMC, 'NA') as jzyy,
        T.ZDDM as xyzd,
        T.ZDMC as xyzdmc,
        'NA' as zybm,
        'NA' as zybmmc,
        'NA' as zyzh,
        'NA' as zyzhmc,
        ISNULL(T.DBZDDM,'NA') as qtxyzd,
        ISNULL(T.DBZDMC, 'NA') as qtxyzdmc,
        'NA' as ssjcz,
        'NA' as ssjczmc,
        'NA' AS gjywdm,
        'NA' AS gjywmc,
        'NA' AS gjywyf,
        '无不良反应' as ywblfy,
        ISNULL(zycf.cflb, '1') AS zysylb,
        (SELECT CASE zycf.cflb WHEN '1' THEN '未使用' WHEN '2' THEN '中成药' WHEN '3' THEN '中草药' WHEN '9' THEN '其他中药' ELSE '未使用' END ) as zysylbmc,
        '无' as qtyxcz,
        'NA' as gbsy,
        'NA' as gbsymc,
        1 as zljg,
        '治愈' as zljgmc,
        ISNULL(T.YSDM, 'NA') as zrysbm,
        ISNULL(T.YSMC, 'NA') as zrys,
        GETDATE() AS gxsj,T.GHXH as syxh
        FROM  CISDB.dbo.OUTP_JZJLK T
        LEFT JOIN CIS_HLHT.dbo.MBZ_DICT_INFO i ON i.DICT_CODE = 'hospitalInfoName'
        LEFT JOIN CIS_HLHT.dbo.MBZ_DICT_INFO ii ON ii.DICT_CODE = 'hospitalInfoNo'
        LEFT JOIN CIS_HLHT.dbo.ANMR_MJZCF_ZYCF zycf ON zycf.jzlsh = T.GHXH
        WHERE T.JLZT='1' AND T.FZBZ >1
        <if test="map.startDate != null and map.startDate != ''">and <![CDATA[CONVERT(datetime,substring(T.GHRQ,1,4)+'-'+substring(T.GHRQ,5,2)+'-'+substring(T.GHRQ,7,2)+' '+substring(T.GHRQ,9,8)) >= #{map.startDate}]]>  </if>
        <if test="map.endDate != null and map.endDate != ''"> and <![CDATA[CONVERT(datetime,substring(T.GHRQ,1,4)+'-'+substring(T.GHRQ,5,2)+'-'+substring(T.GHRQ,7,2)+' '+substring(T.GHRQ,9,8)) <= #{map.endDate}]]>  </if>
        <if test="map.syxh != null and map.syxh != ''"> and <![CDATA[T.EMRXH = #{map.syxh}]]>  </if>
        UNION ALL
        SELECT
        B.EMRXH as yjlxh,
        B.SYXH as jzlsh,
        B.PATID as patid,
        B.HZXM as hzxm,
        B.MZH as mjzh,
        B.BLH as zyh,
        2 as jzlb,
        B.SFZH as sfzhm,
        (SELECT CASE B.SEX WHEN '男' THEN '1' WHEN '女' THEN '2' ELSE '3' END) as xbdm,
        B.SEX as xbmc,
        'NA' as jmjkkh,
        ii.DICT_LABEL AS zzjgdm,
        i.DICT_LABEL AS zzjgmc,
        B.KSDM as ksdm,
        B.KSMC as ksmc,
        3 as hzlxdm,
        '住院' as hzlxmc,
        CONVERT(datetime,substring(B.LRRQ,1,4)+'-'+substring(B.LRRQ,5,2)+'-'+substring(B.LRRQ,7,2)+' '+substring(B.LRRQ,9,8)) as jzrqsj,
        CONVERT(datetime,substring(B.RYRQ,1,4)+'-'+substring(B.RYRQ,5,2)+'-'+substring(B.RYRQ,7,2)+' '+substring(B.RYRQ,9,8)) as ryrqsj,
        ISNULL(CONVERT(datetime,substring(B.CYRQ,1,4)+'-'+substring(B.CYRQ,5,2)+'-'+substring(B.CYRQ,7,2)+' '+substring(B.CYRQ,9,8)),'1990-01-01 00:00:00.000') as cyrqsj,
        '1990-01-01 00:00:00.000' as fbrqsj,
        B.ZDMC as jzyy,
        tt.czxyzdbm AS xyzd,
        tt.czxyzdmc AS xyzdmc,
        tt.czzybmdm AS zybm,
        tt.czzybmmc AS zybmmc,
        tt.czzyzhdm AS zyzh,
        tt.czzyzhmc AS zyzhmc,
        ISNULL(B.CYZDDM, 'NA') as qtxyzd,
        ISNULL(B.CYZDMC , 'NA') as qtxyzdmc,
        'NA' as ssjcz,
        'NA' as ssjczmc,
        'NA' AS gjywdm,
        'NA' AS gjywmc,
        'NA' AS gjywyf,
        '无不良反应' as ywblfy,
        1 as zysylb,
        '未使用' as zysylbmc,
        '无' as qtyxcz,
        'NA' as gbsy,
        'NA' as gbsymc,
        cyxj.zljgdm AS zljg,
        cyxj.zljgmc AS zljgmc,
        ISNULL(B.YSDM, 'NA') as zrysbm,
        ISNULL(B.YSXM, 'NA') as zrys,
        GETDATE() AS gxsj,
        B.SYXH as syxh
        FROM CISDB.dbo.CPOE_BRSYK B
        LEFT JOIN CIS_HLHT.dbo.MBZ_DICT_INFO i ON i.DICT_CODE = 'hospitalInfoName'
        LEFT JOIN CIS_HLHT.dbo.MBZ_DICT_INFO ii ON ii.DICT_CODE = 'hospitalInfoNo'
        LEFT JOIN CIS_HLHT.dbo.ANMR_RYJL_JBXX tt ON tt.jzlsh = B.SYXH
        LEFT JOIN CIS_HLHT.dbo.ANMR_CYXJ_CYXJ cyxj ON cyxj.jzlsh = B.SYXH
        WHERE B.BRZT !=9
        <if test="map.startDate != null and map.startDate != ''"> and <![CDATA[CONVERT(datetime,substring(B.RYRQ,1,4)+'-'+substring(B.RYRQ,5,2)+'-'+substring(B.RYRQ,7,2)+' '+substring(B.RYRQ,9,8))>= #{map.startDate}]]>  </if>
        <if test="map.endDate != null and map.endDate != ''"> and <![CDATA[CONVERT(datetime,substring(B.RYRQ,1,4)+'-'+substring(B.RYRQ,5,2)+'-'+substring(B.RYRQ,7,2)+' '+substring(B.RYRQ,9,8))  <= #{map.endDate}]]>  </if>
        <if test="map.syxh != null and map.syxh != ''"> and <![CDATA[T.EMRXH = #{map.syxh}]]>  </if>
        ) a;
    </insert>


    <!-- Chen,Kuai 2018-8-14 批量初始化CIS,HIS数据-->
    <select id="selectInitialHlhtMjzblMjzbl" resultMap="hlhtMjzblMjzblResult" parameterType="com.winning.hic.model.HlhtMjzblMjzbl">
        SELECT t.QTBLJLXH AS yjlxh,
        c.GHXH AS jzlsh,
        c.PATID AS patid,
        c.HZXM AS hzxm,
        c.GHXH AS mjzh,
        c.BLH AS zyh,
        c.SFZH AS sfzhm,
        (
        SELECT CASE c.SEX
        WHEN '女'
        THEN
        '2'
        WHEN '男'
        THEN
        '1'
        ELSE
        '3'
        END
        )  AS xbdm,
        c.SEX AS xbmc,
        CONVERT(DATE, ISNULL(c.BIRTH, '19900101'), 108) AS csrq,
        ISNULL(convert (varchar,(YEAR(GETDATE())-YEAR(convert(datetime, c.BIRTH)))) ,'''') AS nls,
        DATEDIFF(MONTH,c.BIRTH,SUBSTRING(CONVERT(CHAR(8),GETDATE(),112),1,8)) %12 AS nly,
        i.DICT_LABEL AS zzjgmc,
        ii.DICT_LABEL AS zzjgdm,
        c.KSDM AS ksdm,
        c.KSMC AS ksmc ,
        CONVERT(datetime,substring(c.GHRQ,1,4)+'-'+substring(c.GHRQ,5,2)+'-'+substring(c.GHRQ,7,2)+' '+substring(c.GHRQ,9,8))
        AS jzrqsj,
        c.CFZBZ AS czbzdm,
        (
        SELECT CASE c.CFZBZ
        WHEN '0'
        THEN
        '初诊'
        WHEN '1'
        THEN
        '复诊'
        ELSE
        '复诊'
        END
        )  AS czbzmc,
        GETDATE() AS gxsj,
        t.YXJL AS yxjl, t.SYXH AS syxh, t.TJZT as tjzt FROM CISDB.dbo.EMR_QTBLJLK t
        LEFT JOIN CISDB.dbo.OUTP_JZJLK c ON t.SYXH = c.EMRXH
        LEFT JOIN CIS_HLHT.dbo.MBZ_DICT_INFO i ON i.DICT_CODE = 'hospitalInfoName'
        LEFT JOIN CIS_HLHT.dbo.MBZ_DICT_INFO ii ON ii.DICT_CODE = 'hospitalInfoNo'
        WHERE  1=1
        <if test="(map.QTBLJLXH != null and map.QTBLJLXH != '') or map.QTBLJLXH == 0">and t.QTBLJLXH = (#{map.QTBLJLXH})</if>

    </select>


</mapper>